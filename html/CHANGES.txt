Release notes for Agora (http://agora.xtec.cat)

More information on each of the fixes can be found in the project
development home at https://github.com/projectestac/agora


Changes in progress
---------------------------------------------------------------------------------------
MOODLE:
- Moodle upgraded to from 2.8.9
- Updated LangPacks
- AuthIW: auth db is automatically configured if is agora and a intranet is enabled
- Marsupial Rcontent: Solve problem solving reports
- Auth/googleoauth2: Solve password lost problem
- Local Bigdata: Add log of 2.7 to the default profile

- Local Agora:
  - File Cleeaning stripts Add not matching table file deleting
  - Scripts: Add categories to scripts
  - Scripts: Add error message when a suboperation is not found
  - Scripts: Add success message

- Geogebra:
  - Add useBrowserForJS attribute
  - Solve reset errors
  - Remove fixed protocol in JavaScript file.

- Jclic:
  - Solve reset errors
  - Remove fixed protocol in JavaScript file.

- QV:
  - Solve reset errors
  - Remove fixed protocol in JavaScript file.

- Report CourseQuotas:
  - Recount filesize, one file at a time
  - Add diff info
  - Add user files
  - Update chart library
  - Repair repository files

- 3rd party updated modules:
  - Local Mobile
  - Mod and qformat Hotpot
  - Mod Questionnaire

PORTAL
- Agoraportal: Removed usage of confirmation word to become a manager (Trello #997)
- Agoraportal: Moved createServices.php to portal and added support for Nodes (Trello #996)

ZIKULA
- AuthLDAP: Synced changes from portal



Changes 15.10.09
---------------------------------------------------------------------------------------
GENERAL:
- Updated testlib

MOODLE:
- Moodle upgraded to from 2.8.8
- Delete eoicampus_wsdl_path setting
- Add more information to parse_query error (TO REPORT)
- Updated langpacks on 2015.09.22
- GoogleOauth2: Solve password lost problem
- Local Àgora:
  - Update mailer to save log
  - Change mailsender log folder from the databse
  - Delete filename from mailsender log
  - Remove temp cleaning, core task is now doing it
  - Move cron to lib.php
  - New script to cleanup files, WIP
  - Now the main Moodle admin has to be the first of the list
  - Add FMO migration script to help changes in Moodle
- Mailer changes:
  - Limit retries of sending mails
  - Reduce the log and add .invalid exception
- Local Bigdata:
 - Move cron to lib.php
- Local Oauth:
  - Move cron to lib.php
- Geogebra:
  - Remove fixed protocol in JavaScript file.
- Theme XTEC2:
  - Delete MDL-42634 solved in 2.8.8
  - Solved warning on embedded
- Thirdparty changes:
   - Rgrade: Add Units without activities to the unit selector
   - Wiris modules updated to 3.54.1 2015.08.25
   - Wiris Quizzes question types updated to 3.35.0 2015.08.25
   - Updated Local Mobile module, Hotpot
   - Updated OU quetion type modules

NODES:
- Updated catalan translation for WordPress 4.2.2 (Trello #793)
- Avoid deletion of main pages (Trello #909)
- Modified code to check if is xtecadmin or superadmin (Trello #902)
- Block access to install script (Trello #521)
- Prevent the creation of restricted pages (Trello #871)
- Hidden text icon in the mobile version (GitHub #229)
- Grup-Classe: Second HTML box independent of first box (GitHub #228)
- Social Media: Fixed automatic links (GitHub #108)
- Enllaços educatius: Updated URL of edu3 (GitHub #225)
- Changed login form layout (GitHub #79)
- WSL: Hidden some tabs for all users but xtecadmin (GitHub #200)
- WSL: Added access control using black and white lists (GitHub #62)
- BuddyPress-Group-Email-Subscription: Updated module to version 3.5.1 and revised catalan translation (Trello #793)
- BudyyPress-Like: Updated module to version 0.2.0 and improved catalan translation (Trello #793)
- bbPress: Updated module to version 2.5.8 (Trello #793)
- bbPress: Fixed media upload using Fancy Editor (GitHub #130)
- Theme reactor-primaria-1: Added fields for custom CSS (GitHub #268)
- Set default selected image size to large on page and article creation
- BuddyPress Activity Plus: Updated module to version 1.6.2 (Trello #793)
- Raw HTML: Upgraded to version 1.4.15 (Trello #793)
- BuddyPress: Updated module to version 2.3.2.1 (Trello #965)
- AddToAny: Installed version 1.6.6 (Trello #918)
- Added and improved translations (Trello #963)
- Add specific variable for frontpage blog name in order to allow especial chars, like \n (Trello #972)
- Wordpress-Importer: Added spanish translation
- NODES: Added recaptcha plugin

PORTAL:
- Moved cron_portal.sh to CLI
- Agoraportal: Fixed access to myAgora
- Agoraportal: Users that are clients now can always remove and add managers

ZIKULA:
- Fixed Mobile theme
- Added script to update documentRoot
- IWagendas: Fixed PHP warnings due to notes in personal agendas


Changes 15.08.10
---------------------------------------------------------------------------------------
GENERAL:
- Changed adresses from PL/SQL to access schools information
- Updated all application Mailer WSDL's
- CLIfy crons in config directory
- Adapt mobile css for the 2nd version of the app
- Simplify checkFiles.php and sync_to_file

MOODLE:
- Disabled marsupial as an independent service
- Adapt mobile css for the 2nd version of the app

NODES:
- Added new function to manage superadmin and xtecadmin


Changes 15.07.20
---------------------------------------------------------------------------------------
GENERAL:
- Updated CheckFiles script
- Made update.sh script more intelligent
- Added environment variable to test email
- Moved opcache to testlib
- dblib-mysql: Redirect Intraweb to Nodes if it is not enabled
- dblib-mysql: Redirect to info page when oldDNS is requested
- MAILER: Avoid warnings in log

MOODLE:
- Moodle upgraded to from 2.8.7
- Avoid using global variable section to solve a bug on week format
- MARSUPIAL: Add new permission to allow users to change their own credentials only
- Only enabled modules has to be backup
- Reduce from 1 week to 1 the waiting time to purge temp files
- Set empty SMTP hosts to avoid overhead in sending mails
- Change locking from NFS to DB
- Add loglifetime setting for backup logs
- GEOGEBRA: Restore executing JS embedded in Geogebra files

NODES:
- Upgraded WordPress to version 4.2.2 (Trello #793)
- Added submodule of Multisite common functions
- Added message to warn user about quota exceeded in BuddyPress Activity+
- Improved some styles (GCE, buttons, table and image margin with text and code styling) (GitHub #208)
- GCE: Changed default cache duration to 300 seconds (Trello #875)
- GCE: Fixed visualitzation of calendar in list mode (GitHub #219)
- Convert Socialmedia to a plugin (GitHub #64 - Partial fix)
- Convert Enllaços educatius to a plugin (GitHub #213)
- Removed link to Social Articles in BuddyPress admin page
- Updated mailer library
- Added some information to replace URL script, for PORTAL
- Fixed catalan spelling in Appearance | Customize | Colors (GitHub #206)
- XTEC Stats: Added first version which includes just a widget to count visits (Trello #821)
- BP-Docs: Hidden "Associated elements" in document edition (Trello #883)
- Reactor-primaria-1: Deleted unused files for theme colours (GitHub #214)
- Updated mailer library
- Added two colour palettes to theme (GitHub #216)
- Improved visualitzation of Visibility block in Appearance | Customize (GitHub #204)
- Intraweb Importer: Added plugin import data from Intraweb (Trello #732)
- Fixed removal of statistics older than one year (Trello #820)
- Fixed language string in attachment view in Media Library (Trello #898)

PORTAL:
- Add statistics generation to nodes
- Increased maximum quota allowable to services to 2048 TB (Trello #856)
- Fixed link to FAQ in front page (Trello #866)
- Add Some admin info in client service form



Changes 15.06.18
---------------------------------------------------------------------------------------
GENERAL:
- Statistics.php: Fixed getDiskConsume()
- Added testapp
- Simplify sync-config.sh, does not require oracle
- Changed apc to opcache

MOODLE
- Moodle upgraded to from 2.8.6
- Hide some settings to non xtecadmins
- Set stasharguments by default in config.php
- Deleted participants as default course block
- Configured new Logging system
- Deleted patch to let teachers configure system cohorts
- Changed TinyMCE to Atto
- Deleted EOICampus
- Updated theme XTEC2 with new features:
  - Solved advices cache
  - Added nodes color scheme
  - Added new user menu
  - Style maintenance page and popup layout
  - Upgraded fontawesome to 4.3.0
  - Toggle block view by clicking on each header
  - Increased block icon size
  - Deleted supercollapse on the grader
  - Added footer whatsapp and skype icons
- Added some extra atto modules:
  - Font family
  - Font size
  - Wiris (added for Atto and deleted for tinyMCE)
- Updated modules:
  - Marsupial to 2.7.0.0 with code and settings cleaning
  - Jclic, Geogebra i QV to version v0.2.7 with events, code and settings cleaning
  - Geogebra now admits HTML5
  - GoogleOauth, Choicegroup, Wiris, OpenUniversity question modules, Hotpotatoes, Journal, Questionnaire
  - Language packs
- Applied patches:
  - MDL-49440 lib: Date picker duplicated week day names repaired
  - MDL-49742 lib: Removed additional names on tables for sorting. (solved in 2.8.7)

NODES
- Forbidden access to admin-tools and edit-comments for Collaborator user roles (Trello #790)
- Don't allow admins to modify WordPress URL on wp-admin/options-general.php (Trello #797)
- Role names translated in import-users-with-csv (Trello #625)
- Widget Grup-classe: Add navigation buttons to calendar (Github #182)
- Widget Grup-classe: Internationalization (Github #88)
- Upgraded GCE to version 2.2.5 (Trello #800)
- Added disk quota control (Trello #733)
- Removed plugin Social Articles (Trello #693)
- Improvements in bpdocs styles (Pull request #195)
- Moved some code to submodules

PORTAL:
- Deleted educatNetwork from agoraportal
- Disable intro redirect on portal service and client pages

ZIKULA
- Content: Updated catalan language files


Changes 15.05.19
---------------------------------------------------------------------------------------
MOODLE
- Moodle upgraded to from 2.6.10 to 2.6.11
- Added new activity choicegroup that allow group enrolling over a choice activity
- Allow tracking of activities in frontpage to users without role
- Update Mailer library to reduce log and improve stability
- Remove warnings in admin page
- Move sessioncookie to settings
- Update Marsupial to be enabled by default
- Added proxy settings
- Updated modules:
  - Marsupial rcontent now has reports
  - Hotpot, Moodle mobile, DD question types...

NODES
- Upgraded WordPress to version 4.0.5
- CSV: Included first version of the import-users-from-csv-with-meta plugin
- If user is not logged in, redirects at login screen on BuddyPress tabs
- Solved categories error on breadcrumbs
- Disabled gravatar requests.
- PhpInfo for xtecadmins.
- Avoid upload large images (>2MB).
- Hide full size option post insertion (maximum size width 1024)
- Slideshow: Added proportional mode
- Added proxy support
- Giny Enllaços educatius: added 'ePergam', 'La meva XTEC' and bug fix #111
- Added constant SCHOOL_CODE
- Added shortcode to embed rss into post and page
- Added author link in metadata author post
- Added 'myposts' functions to replace Social Articles
- Added script to massive upgrade of WordPress (script_upgrade.class.php)
- Added Docs page to visibility widget params

GENERAL
- Added global vars for proxy

ZIKULA
- Added support for proxy in SimplePie


Changes 15.03.20
---------------------------------------------------------------------------------------
MOODLE2
- Moodle upgraded to from 2.6.7 to 2.6.10
- Added airnotifier module in order to enable push notifications
- Enable Mobile additional features when enabling mobile webservices
- Xtec2 Theme: Created new advices pseudo-block
- Xtec2 Theme: Spelling revision
- Change translation of upload courses tool title
- Local Agora: Renewed mailer library to not depend on Moodle
- Local Agora: Enable service script is not autoregistering Moodle anymore
- Local Agora: Added script to edit advices pseudo-block
- Local Agora: Added script to delete orphaned assignments
- Mailer: Add debugging function to emmancipate from Moodle
- Question type ddimageortext: Solve error when showing more than one question in the same page
- Updated modules:
  - All Language packs included
  - Mobile
  - Hot Potatoes
  - Questionnaire
  - Wiris Quizzes
  - Jclic 0.2.5
    - Add protocol recognision through wwwroot url for the applet
    - Set JClic default settings to https
    - Solved problem showing url on mod edit form

PORTAL
- Agoraportal: Improved activation of Nodes
- Agoraportal: Fixed the creation and the update of the block of notices for Intraweb
- Agoraportal: Solved retrieving CLOB vars from batch SQL on Oracle
- Agoraportal: Change MySQL timeout on batch SQL execution and on on executing operations
- Agoraportal: Change External connections to mysqli libraries
- Agoraportal: Repaired counting client services
- Agoraportal: Adapt advices set to the new pseudoblock on Moodle2
- Agoraportal: New stats library chartjs, renew the stats function and apply reading stats for Moodle2
- Agoraportal: Fixed client not being created when user was in group Clients

NODES
- Set user priority on the boxes
- Hidden unnecessary boxes
- Added external links for Google Fonts
- Sets the order and the position for the boxes
- GCE: Added default values for hidden parameters and remove some metaboxes to simplify user experience
- GCE: Fixed warning message in list of calendars
- MU-PLUGIN: Created common-functions.php pluggin to include common functions which are not related only with the theme
- Fix: Show left sidebar on mobile version
- Improved header image adjustament
- Improved visualization for high screen sizes
- Add upload images capability to contributor & Restricting contributors to view only media library items they upload
- Enllaços educatius: Added two new icons ("intraweb" and "Portal de centre")
- BPDOCS: Fixed bug when uploading files
- THEME: Show comments in pages when they are enabled
- MU-PLUGIN: Reviewed default position, hiddent and collapsed meta-boxes for pages and posts
- THEME: Added some missing strings to Catalan translation like comments and edit (still is not complete)

ZIKULA
- Added creation of hooks for AdminMessages and Blocks
- IWbookings: Fixed loss of time frame when updating resource configuration
- IWusers: Upgraded to version 3.1.0
- Scribite: Added dummy catalan lang files for Xinha to avoid javascript errors
- Scribite: Upgraded to tagged version 5.0.0.1 from intraweb-modules


Changes 15.02.20
---------------------------------------------------------------------------------------
MOODLE2
- MDL-49234 oracle: Remove variables passed by reference error
- Forum: Solved courseoverview patch on mymoodle page
- Now Agora is instalable if environment is LOCAL
- MDL-48980 Security: Always clean the result from min_get_slash_argument
- Simplify site-config
- Added function to save in the parent admin folder of moodle2
- Site config add suport to check id_moodle2 from db
- MARSUPIAL: Added one required library that can crash the import method
- LOCAL AGORA: Add new adware string to search
- LOCAL AGORA: Export bigdata profiles by name
- LOCAL AGORA: Scripts: Notificacion styles and debug
- LOCAL AGORA: Added function to save in the parent admin folder of moodle2
- LOCAL AGORA: Autocalculate mail log path
- LOCAL BIGDATA: Add weekday restriction, save on folder setting and hour restriction
- LOCAL BIGDATA: Solved problem calculating next cron date
- LOCAL BIGDATA: Solved bug on unexistant contexts
- LOCAL BIGDATA: Export bigdata profiles by name
- LOCAL OAUTH: Updated catalan and spanish strings
- LOCAL OAUTH: Some changes in the Client ID and Redirect help.
- LOCAL OAUTH: Added default values when creating provider and improved user interface to include help
- Updated Third party modules:
  - Mobile
  - Hot Potatoes
  - JClic
  - DDImageOrText
  - DDMarker
  - DDWtos
- XTEC2: Solved problem moving blocks
- XTEC2: Repaired a color in external link icon
- XTEC2: Change horizontal padding of #page from 20px to 30px
- XTEC2: Adding icons to notification status

NODES
- Improved responsive design of header #59
- Text under icons on header grid icons #56
- Improved mobile layout #9
- Added more icons #50
- Changes external source resources to local source #85
- Fix maximum size of feature image #86
- Added two new color palettes #90
- More flexibility to display the name of the school #94

PORTAL
- Agoraportal: Added ability to create database if not exists when creating new services
- Agoraportal: Reviewed activation services mail messages (changed URL, added more information for Nodes...)
- Agoraportal: Added support for CFA model

ZIKULA
- IWdocmanager: Solved issue with the count of the documents inside the categories and function added that update the documents' number [AGIN 1051-2014-0038]
- IWdocmanager: You can save the status of the field Active in each Document's category [AGIN 1051-2014-0038]
- IWagendas: Solved issue where users can view shared agenda's posts without loggin in [AGIN 1051-2014-0049]
- IWagendas: Fixed messages not being translated [AGIN 1051-2014-0028]
- Files: Added new module version 1.0.2 [AGIN 1051-2014-0035]
- IWforums: Updated to version 3.0.1
- IWforms: Updated to version 3.0.2
- IWmessages: Updated to version 3.0.1
- IWnoteboard: Updated to version 3.0.1
- AdminMessages: Updated to version 2.2.1
- Profile: Fixed error when loading in Admin Panel


Changes 15.01.28
---------------------------------------------------------------------------------------
GENERAL
- Added the list of Nodes for upgrade
- Added underscore to characters allowed in Nom Propi

MOODLE2
- Moodle Upgraded to 2.6.7
- Marsupial: Solved error on credentials bulk
- Jclic: Solved error on viewing groupings reports
- Memcache performance problem repaired
- Journal: Performance improvements when journals have lots of entries
- Hide all assignments < 2.2 from adding
- Moved dberrors to portadata/moodle2 parent directory
- Moved rcommon log to portaldata directory
- Glossary: Solved problem searching when glossary have large entries (MDL-43816)
- XTEC2 theme: Solved margin in fixed student column on grader
- XTEC2 theme: Added external link class for links
- XTEC2 theme: Solved collapsed menu button
- XTEC2 theme: added classes to footer icons in order to be hidden by css
- Added Moodle Mobile Additional features to enable push notifications
- Added autoregister on moodle.org script
- Enhanced Enable service script with upgrading and registering
- Adware: New string added
- Module updates: HotPot, questionnaire, languagepacks

NODES
- Upgraded WordPress to 4.0.1
- Added plugin "Grup-classe"

PORTAL
- Agoraportal: Added ability to create tables and files for Nodes when creating new services
- Agoraportal: Increased number of school managers from 3 to 4
- LDAP: Don't show warnings to users when password is incorrect in login
- LDAP: Don't allow login to schools that doesn't have 'Nom propi'
- Files: Fixed problem downloading files when folder is not public
- Added ability to return to original URL when there is a redirect for login
- Updated some compatibility code

ZIKULA
- IWagendas: Updated lang text and some HTML validation issues
- Added ability to return to original URL when there is a redirect for login


Changes 14.12.22
---------------------------------------------------------------------------------------
GENERAL
- Moved Wordpress and Moodle the external repositories

MOODLE2
- Upgrade to Moodle 2.6.6
- Updated all external modules
- Moved lang files to langpacks
- MDL-43462 assignfeedback_editpdf: fix display of landscape PDFs
- Bigdata translated
- Some marsupial bug fixes including: CSV import

NODES
- Added pending submission notifications plugin #65
- Added tumblog icons style to post #61
- Improved featured image visualization #60
- Changed scribd url fromt es.scribd.com to www.scribd.com before save post #49
- Improved main menu items  #58
- Nodes now choose the right corporate logo (Consorci if city is Barcelona; Ensenyament otherwise)  #55
- Added link to corporate logo  #68
- Added Google+ support for slideshow  #51
- Scripts: add error option for CLI

PORTAL
- Fixed creation of xtecadmin in intranets
- Add functions for timeout operations
- Better filtering of cliends and services
- Enable Moodle instances from operations
- Changed name of moodledata/ by docs/
- Updated demo cache files


Changes 14.11.27
---------------------------------------------------------------------------------------
MOODLE2
- Fixed linguistic SQL sorting for Oracle
- Do not even try to send mails to .invalid domain
- Set default value on upload users tool to an invalid domain
- Fixed adware detector
- Delete dependencies between environments in config.php (Renamed config-multi to config)
- usu1repofiles setting replaced by admin_datadir function to store admin files
- Clean of old settings
- Add log to oauth server
- Fixed MDL-33483 GoogleDocs: Save Doc files in different formats to RTF
- Fixed MDL-43462 Landscape PDFs are not shown correctly in EditPDF
- Renewed mailer library
- Improvements on theme XTEC2 including:
  - Added phone and mail to description of the footer icons
  - Accessibility (a11y): Added 'alt' text to 'img' tags and Avoid empty 'ul' tags
- Bigdata improvements:
  - New profiles on bigdata export
  - Bigdata to store in admindatadir
  - Cron implemented
  - Avalaibiliy to choose fields to export
- Updated Marsupial modules with improvements:
  - Deprecated lang strings in marsupial
  - Simplify logging
  - Units and activities not included in the book structure are not created anymore and error is raised
- Scripting environment improvements:
  - Repaired upgrade through script
  - Enable TEX filter on init script
  - Enable cache for scripts
- Cache related improvements:
  - MUC autocreates path on file cache
  - Disabled cacheconfig overwrite
  - New Cacheconfig file without memcache configured

GENERAL
- Removed all references to Moodle 1.9 vars. Replaced by references to Moodle 2 vars
- statistics.php: Added collect of stats of Nodes
- New password and mail field in config

PORTAL
- Moved portaldata/ to docs/portaldata/
- Added module Files 1.0.1
- Added tables for statistics of Nodes
- Fixed sorting in service selector
- Add support to execute scripts of Wordpress

WORDPRESS
- Added catalan translation for BuddyPress Like
- Added catalan translation for BuddyPress Moderation
- Added catalan translation for WordPress Social Login
- WordPress Social Login: Hidden options to all admins but xtecadmin
- Updated Google Calendar Events to version 2.1.1
- Bug pagination fixed
- Add support to execute scripts from portal
- Added support to reverse proxy calls in Oauth Client

ZIKULA
- IWstats: Remove old records using iwcron.php


Changes 14.11.05
---------------------------------------------------------------------------------------
MOODLE 2
- MDL-47581 Force box.net repository work with https
- Updated marsupial modules
- Bigdata exporter to json
- Mobile panel colors repaired
- Scripting module
- Enable webservice mobile settings for all admins
- More intelligent purge cache

PORTAL
- Fixed possibility of login without https
- Agoraportal: Increased maximum size for big files to 200MB
- Agoraportal: Added link to force update of used quota in actions of service Nodes
- Queue operations module
- Moved restore xtecadmin to AGORA-MOODLE queues

WORDPRESS
- Added catalan translation for Widget Visibility
- Added catalan translation for BuddyPress Docs
- Added catalan translation for BuddyPress Activity Plus
- Blocked access to plugin management to all users but xtecadmin
- Google Calendar Events: updated to version 2.0.6.2
- Google Analyticator: installed version 6.4.7.3 (downloaded from XTECBlocs)
- Blocked access to permalink management to all users but xtecadmin
- Fixed bug when accessing to dashboard with an oAuth user to avoid reauth him/her again

ZIKULA 2
- Fixed possibility of login without https
- IWagendas: Fixed fields not shown in shared agendas


Changes 14.10.15
---------------------------------------------------------------------------------------
MOODLE 2
- Updated translations
- Upgrade some module versions
- Updated Marsupial module
- Fix MDL-47597 Inform users to use https on callback url on Flickr repository
- Fix MDL-47581 Force box.net repository work with https
- Fix MDL-31679 gradereport_grader: Add a horizontal scroll bar to the top of the grader report
- Duplicated assignmetns script now inform the coursemoduleid
- Styling grader
- CONTRIB-4891 Questionnaire YES/NO questions results not properly shown
- First version of database check script
- Format simple. Solved bug deleting images by module deletion handler
- Added autodetection cron for adware and some improvements
- Changed Oauth server params to Server menu
- Recovered log database fails function
- Repaired Moodle APP

PORTAL
- Updated Zikula to 1.3.9
- Agoraportal: Updated school name and address in school card when activating a service
- Agoraportal: Don't show clients with no services in services list

WORDPRESS
- Removed extension Viper's Video Quicktags
- Group Email Subscription: Added catalan translation
- Google Calendar Events: Upgraded to version 2.0.3.1
- Google Calendar Events: Improved and customized catalan translation
- Password recovery: Fixed visibility of link to change password in e-mail

ZIKULA 2
- Updated Zikula to 1.3.9
- Content: Fixed breakdown of the website when using permissions to block access to blocks
- IWbooks: Fixed error when creating a pdf if variable is not defined
- IWmoodle: Added support for Moodle 2.6+ hash passwords
- IWdocmanager: Show subcategory tree when viewing docs
- iwcron.php: Fixed sending of e-mail when there is no content in the message


Changes 14.09.30
---------------------------------------------------------------------------------------
MOODLE2
 - Updated module Google Oauth, button on login block and some bugs repaired
 - Repaired syntaxt error on geogebra attempt
 - Workarround to solve hotpot width
 - Updated catalan translations
 - Fix MDL-46833 mod_assign: Fix assignment view when available for group members only
 - Add admin menu for marsupial managers
 - Solved problem when receiving only one book from Marsupial publishers
 - Solved xtecadmin problem with Agora scripts
 - Upgrade memcache from Moodle 2.7
 - Added conditions to get message notifier optional if file or function does not exists
 - Fix MDL-47384 Mentee cannot access to course reports of courses with separated groups
 - Better grader report for grading assignments
 - Performance settings

PORTAL
 - Agoraportal: Improvements to service activation

WORDPRESS
- Blocked access to Settings > Writing to all users but xtecadmin
- Removed WordPress upgrade message
- Social Articles: Added catalan translation
- Invite Anyone: Added catalan translation


Changes 14.09.18 codename jmeler
---------------------------------------------------------------------------------------
GENERAL
- statistics.php: Corrected count of Moodle activities

MOODLE 2
 - Cron by cli enabled by default
 - GoogleOauth now admits users with other auth method configured
 - Repaired many errors in Marsupial
 - Repaired bug: MDL-47227 User bulk selection gets Oracle database errors when more than 1000 are selected
 - Repaired bug: MDL-43197 gradereport_user: Parents/mentors can see all the relevant grades
 - Report course quotas now has information about backup files
 - Deleted uninstall option of all modules and submodules
 - Enabling memcache
 - Workarround for MDL-47176 sql_compare_text does not support string longer than 4000 chars in Oracle restoring match question type
 - Restrict domains which can create accounts from Google Oauth
 - Many theme xtec2 improvements including:
   -- Enable custom menu on tablets and phones
   -- Enabled dock form theme xtec2
   -- Repaired fontawesome colors in many icons
   -- Repaired theme fonts and images viewing in https mode
   -- Calendar activity titles are now smaller
   -- Better grade report

PORTAL
- Agoraportal: Fixed activation of new services Intraweb and Nodes
- Agoraportal: Customized more fields in Nodes when a service is activated

WORDPRESS
- Updated Google Calendar Events to version 0.7.3.1
- Updated theme reactor-primaria-1
- Hidden parameters in Settings | Reading
- Removed initialization of Slides and Portfolio, so they don't load
- Blocked access to Settings > Forums to all users but xtecadmin
- Blocked access to Settings > Private BP Pages to all users but xtecadmin
- WordPress Social Login: Hidden option added in admin bar by this plugin
- Removed Plugin 'Collapsing Category List'
- Reworked custom menus for bbpress and BuddyPress


Changes 14.09.08
---------------------------------------------------------------------------------------
GENERAL
- phpmemcache: Solved Segmentation fault

MOODLE 2
- Some errors solved in marsupial, theme and jclic
- Google Oauth2 module translated
- Enabled cron CLI for testing

WORDPRESS
- Protected xtecadmin against edition and deletion


Changes 14.09.03
---------------------------------------------------------------------------------------
MOODLE 2
- Font awesome icons
- New button to toggle block visibility
- Now submit buttons uses main background color
- Deleted foreground color over navigation chooser to avoid accessibility problems
- Now text colors must have a correct luminancy to avoid accessibility problems
- New footer settings to put social icons and links
- Added brand icons to footer for mobile layout
- Improved Xtec2 styles
- Updated Wiris Quizzes and Wiris

WORDPRESS
- Removed exray theme
- Hidden reactor at the theme selector
- Added collapsing-category-list plugin


Changes 14.08.26
---------------------------------------------------------------------------------------
MOODLE 2
- Added Google Auth2 Auth method
- Solved problem authenticating to Marsupial servers

ZIKULA 2
- Upgraded Content module to 4.1.1 version to fix some bugs


Changes 14.08.19 codename mgrau
---------------------------------------------------------------------------------------
GENERAL
- config.php: Added param for nodes

PORTAL
- Upgraded to Zikula 1.3.8
- Blocks only appear at home page
- Agoraportal: Updated services logos
- Agoraportal: Added ability to customize WordPress info when activating a site
- Agoraportal: Service 'nodes' can be activated
- Added logos of XTEC services in images/importat/

WORDPRESS
- Added Widget Visibility Without Jetpack 0.4
- Added Viper’s Video Quicktags 6.5.2
- Added Google Calendar Events 0.7.2
- Added Theme Reactor 1.3.5
- Updated Buddypress to version 2.0.2
- Updated BuddyPress Docs to version 1.8.1
- Updated Invite Anyone to version 1.3.1
- Reactor: Removed default WP menu on top left corner and added debug code
- Exray: Deactivated Heartbeat
- Removed theme cbox
- Added basic statistics collection
- Admin menu: removed default BuddyPress links and added a global access page
- Added OpenID 3.3.4
- WordPress Social Login: Removed all the login providers but Google
- Added Slideshow 2.2.21
- xtec-mail: Fixed HTML format in e-mail
- Added initial catalan translation for BuddyPress, bbpress, Google Calendar and Slideshow
- Added first alpha version of the reactor-primaria-1 theme

ZIKULA 2
- Upgraded to Zikula 1.3.8
- IWmoodle: Fixed loading of Moodle course list when summary is too big
- IWstats: Fixed listener creation on upgrade
- IWforms: Fixed deletion of notes in a form
- IWforms: Removed error message when sending a copy of a note to private mailbox
- IWdocmanager: Fixed sending of e-mail notifications when there is a new document waiting for validation
- IWdocmanager: Updated catalan translation
- Scribite: Added options to Xinha for users' request
- IWxtec: Fixed E_DEPRECATED error
- Users: Allow automatic membership to more than one group in bulk import
- IWgroups: Added module
- IWagendas: Fixed javascript loading in blocks

MOODLE 2
- Moodle 2 Updated to 2.6.4 version
- Fixed CLOB error with events when restoring courses with events
- Updated version of all thirdparty modules
- Deleted support for rscorm activities
- Renewed XTEC2 theme with layout settings, configuration menus and bootstrap support

Time to say Goodbyes...
-----------------------
MOODLE Deleted 1.9 version.
A memory lasts forever, never will it die... true friends stay together and never say goodbye...

ZIKULA Deleted Zikula 1.2 version.
Goodbyes are not forever. Goodbyes are not the end. They simply mean I'll miss you until we meet again.


Changes 14.07.04
---------------------------------------------------------------------------------------
GENERAL
- config.php: Use same global variable name for all services: $agora[$serviceName]['userprefix']
- config.php: Change var name from $agora[$serviceName]['discusagefile'] to $agora[$serviceName]['diskusagefile']
- sync_to_file.php: Fixed warning message when trying to remove directory
- checkFiles.php: Check key files of WordPress

PORTAL
- IWportal: Don't show central blocks in admin pages
- Agoraportal: Added support for quotas in service Nodes
- Agoraportal: Show Nodes in public services list
- Users: Added support for MD5 hash

WORDPRESS
- Upgraded Invite Anyone from v1.2.1 to v1.3
- bbpress: Moved links in admin menu to a new custom page
- Block access to file editor. WordPress files cannot be modified via web
- Force usage of MySQLi instead of MySQL
- Added Raw HTML 1.4.12
- Added TinyMCE Advanced 4.0.2
- Added Blogger Importer 0.7
- Added WordPress Importer 0.6.1
- Added SlideShare for WordPress by Yoast 1.8
- Removed default themes: twentytwelve, twentythirteen and twentyfourteen
- Upgraded theme exray to version 1.4.3
- Added customization to theme exray
- Hidden and blocked access to install, upgrade, upload and delete plugins and themes
- wp-config.php: Added constants useful for debug

ZIKULA 2
- IWbooks: Fixed creation of pdf in user view
- IWbooks: Improvements to catalan translation

MOODLE 2
- Assignment: Solved reset assignment submissions MDL-46219


Changes 14.06.20
---------------------------------------------------------------------------------------
GENERAL
- Modified general config.php, env-config.php, dblib-mysql.php and .htaccess to support new service Nodes
- Added special code to .htaccess for permalinks in WordPress

PORTAL
- Agoraportal: Added fields URL and hasDB to service definition table
- Agoraportal: Added support to apply for new service Nodes

WORDPRESS
- Added WordPress 3.9.1
- Modified wp-config.php and added site-config.php to WordPress
- Added file for XTEC library for WordPress (wp-includes/xtec/lib.php)
- Added BuddyPress 2.0.1
- Added BBPress 2.5.4
- Added Private BP Pages 1.3
- Added Buddypress Group Email Subscription 3.4
- Added BuddyPress Docs 1.7.0
- Added BBpress Enable Tinymce Visual Tab 1.0.1
- Added Buddypress Like 0.1.7
- Added BuddyPress Moderation 0.1.7
- Added Invite Anyone 1.2.1
- Added Social Articles 1.5.1
- Added BuddyPress Activity Plus 1.6
- Added WordPress Social Login 2.1.6
- Removed plugins Akismet and hello.php
- Added Theme exray 1.4.2
- Added Theme cbox 1.0.7 from CUNY (https://github.com/cuny-academic-commons/cbox-theme)
- Added xtec-mail to send e-mail using XTEC web service
- Added https login
- BP-moderation: Fixed repetition of background image in Dashboard

ZIKULA 2
- IWforms: Fixed error when there are no searchable fields


Changes 14.06.02
---------------------------------------------------------------------------------------
MOODLE 2
- Rcontent: Delete parent redirection on Rcontent activities

ZIKULA 2
- IWjclic: Fixed incorrect field name in table definition of IWjclic_sessions


Changes 14.05.28
---------------------------------------------------------------------------------------
GENERAL
- DataCopy: Added script to copy contact info from Moodle 1.9 services to Moodle 2 in agoraportal

MOODLE 2
- Solved MDL-39740 Updating grade_item idnumber doesn't update course_module idnumber
- Changed loglifetime from 365 to 0 to avoid delete them (for learning analytics project)
- Solved MDL-45480 Mod completion cannot be changed on certain cases
- Jclic module updated to the last version (0.2.3+)
- Geogebra module updated to the last version (0.2.5+)
- Format simple improvements showing custom images and solving duplicity of topic zero
- Marsupial modules updated to the last version (2.0.5+)
- Updated catalan translation (27-05-2014)

PORTAL
- Agoraportal: Added ability to show and delete subdirectoris in Moodle repository
- Agoraportal: Created Nodes service and changes in module tables
- XtecMailer: Synced code between portal, zikula2 and La prestatgeria
- Users: Changed default hash method to md5

ZIKULA
- News: Fixed AJAX error with modern browsers

ZIKULA 2
- fix.php: Fixed creation of log file in production environment
- Users: Fixed export of users to CSV file
- Users: Changed default hash method to md5
- XtecMailer: Synced code between portal, zikula2 and La prestatgeria
- AdminMessages: Fixed name for URL (broken with catalan translation)
- News: Fixed view of archived news after Zikula 1.3.7 upgrade


Changes 14.04.09
---------------------------------------------------------------------------------------
MOODLE 2
- Tiny_MCE Wiris Replaced wrong ampersand
- added TreeMenu.js
- Solved error with activities that lasts more than 99 seconds saving total_time in seconds instead of miliseconds. Now the limit is about 27 hours per activity
- Updated Jclicplugin.js to the last version
- Solved duplicity of topic zero in Simple course format
- Fixes and improvements in table styles

PORTAL
- Upgraded to Zikula 1.3.7
- Minor improvements to catalan translation
- IWstats: Improved collection of data
- Profile: Removed module as it is not used
- Removed install.php

ZIKULA
- Added protection against blind SQL attacks
- IWstats: Improved collection of data
- IWstats: Reduced summarize days to 3

ZIKULA 2
- Upgraded to Zikula 1.3.7
- Minor improvements to catalan translation
- IWagendas: Fixed quotes that caused an error in apache log
- IWstats: Improved collection of data
- IWnoteboard: Fixed non existing member class call
- Minor improvements to filetheme.php
- IWxtec: Updated links to intraweb.xtec.cat
- IWbluegraceAgora: Updated links to intraweb.xtec.cat and fixed incorrect load in filetheme.php
- IWxtec2: Updated links to intraweb.xtec.cat and fixed loading of images in CSS
- Upgrader: Converted to unattended
- Charset fix: Several improvements
- Upgrader: Improved script and moved to just one file
- Removed install.php
- Pages: Changed url module from 'pages' to 'pagines' in catalan translation (full module regeneration required)


Changes 14.03.12
---------------------------------------------------------------------------------------
GENERAL
- Added styles in portal for error.php

MOODLE 2
- Fix for correct index detection when there's more than 1 Moodle in an Oracle instance
- Hotpot report solved CONTRIB-4910
- Repaired the display of hidden sections on simple course format
- Debug feature enabled for all siteadmins outside agora
- Re-added Catalonia to countries list

ZIKULA 2
- Avoid automatic change of icon order in admin tabs
- Added cleanup of temporary files to cron
- Added script to fully regenerate module information from filesystem
- Updated module description of some modules
- Minor improvements to catalan translation


Changes 14.02.26 codename sarjona
---------------------------------------------------------------------------------------
MOODLE 2
- Upgrade Moodle2 to 2.4.8 version which includes:
-- Update QV module
-- Update of Wiris quizzes question types
-- Update of journal module
-- Update of hotpot module and question format
-- Update of format simple and Wiris plugins
-- Update of Marsupial to the latest version
-- Update of Admin tools third party modules
-- Update of language files
-- Update Simple course format
-- Delete patch MDL-27071 already exists on moodle 2.4.8
- Added debug by session feature
- Import19: Don't show import section if tables of Moodle 1.9 are not present and avoid current error
- Protect cron to run twice at the same time
- MUC for questiondata is now configured and is set for separately for every Moodle instance
- Added repairing scripts for duplicates of course_completion and quiz_attempts
- Cleaning of local/agora cron
- Updated catalan translation of questiontypes of the Open University (gapselect, ddimageortext, ddmarker and ddwtos)
- Preparing cron to run from CLI

ZIKULA
- Removed module iw_moodle to connect to Moodle 1.9

ZIKULA 2
- IWdocmanager: Fixed deletion of files due to unscaped javascript text
- IWdocmanager: Aesthetical & usability improvements


Changes 14.02.05
---------------------------------------------------------------------------------------
GENERAL
- Added phpsysinfo to get status information from the web servers
- createSchoolsListsFiles.php: Removed Moodle 1.9 stuff
- statistics.php: Removed Moodle 1.9 stuff
- htaccess: /moodle2 now redirects to /moodle

MOODLE 2
- Repairing of course_section duplicates
- Instaled some questiontypes of the Open University (gapselect, ddimageortext, ddmarker and ddwtos)
- Updated Questionnaire from version 2.3.3 to version 2.4.2
- Bug repair: MDL-43511 do not cache the MUC cache in question code

ZIKULA
- Improved protection against XSS vulnerability

ZIKULA 2
- Fixed incorrect saving of IWmain params
- Updated URL of Intraweb project
- Fixed siteoff template not loading login form in Firefox

PORTAL
- Removed upgrade.php because it is no longer necessary
- Agoraportal: Removed references to /antic
- Agoraportal: Fixed bcc message when activating service
- Agoraportal: Removed Moodle 1.9 stuff
- Agoraportal: Updated automatic e-mail messages
- Fixed incorrect saving of IWmain params
- Fixed siteoff template not loading login form in Firefox
- Agoraportal: Improved function listDataDirs
- IWportal: Reduced font-size to 13 pixels


Changes 14.01.15
---------------------------------------------------------------------------------------
GENERAL
- Access to Moodle 1.9 changed from /antic to /copiaseg
- checkFiles.php: Added server time

MOODLE 2
- Coursequotas: Fixed error in temp and trashdir info for non-Agora installs
- GeoGebra: updated module to last version (0.2.5rc)
- Bug correct: MDL-27071 Oracle cannot cope withan IN operator with more than 1000 conditions in it
- site-config.php: Removed exception for usu1

PORTAL
- Agoraportal: Moodle sites are not listed in public list

ZIKULA
- Files: Fixed AJAX error when uploading files or when creating folders in Chrome
- News: Fixed AJAX error with modern browsers

ZIKULA 2
- IWagendas: Fixed images not being found when module is loaded as default module
- IWstats: Fixed javascript calendar not being loaded


Changes 13.12.16
---------------------------------------------------------------------------------------
GENERAL
- replaceMoodle.php: Changed required service from Moodle 1.9 to Moodle 2

MOODLE
- Added code to disconnect usu1

MOODLE 2
- Reviewed code for reseting assign grades to include also recovergradesdefault parameter (https://tracker.moodle.org/browse/MDL-41877)
- Coursequotas: Added temp and trashdir info for non-Agora installs and minor text format changes
- Coursequotas: Fixed error when counting used space in course and in front page
- Question: Modified to prevent Google Chrome from translating the question identifier (a,b,c..)
- Modified patch in email_to_user function to prevent moodle to generate notices when $CFG->apligestmail is not set
- Fixed upgrade assignment code section. Now it catches exceptions and removes unused duplicated sections that probably caused the exception in the first place.
- Updated Marsupial modules to v2.0.4
- site-config.php: Added prefix exception for usu1 (PRO)
- Fixed bug with EOICampus module (pathway selection when editing)
- Updated catalan translation (11-12-2013)
- Blocked access to install functions

PORTAL
- Upgraded to Zikula 1.3.6
- Removed updating of variables for Downloads module when activating an Intraweb (module's been removed)
- Allow admins to access to updateDiskUse and to listDataFiles without checking IP
- Don't send e-mail of quotas for Moodle 1.9
- Fixed javascript error due to catalan translation
- Improvements to form for upload of big files
- Fixed activation of Intraweb sites (from now on, only Zikula 1.3)

ZIKULA 2
- Upgraded to Zikula 1.3.6
- IWstats: Fixed creation of listeners to collect stats
- IWmoodle: Fixed dropdown group menu in synchronization section
- Added script to fix charset problems in some Zikula databases
- Files: Fixed wrong check for directory "users"
- Groups: Fixed javascript error due to catalan translation
- IWbluegraceAgora: Fixed Smarty templates
- IWMyRole: Ensure block "MyRole" is able to load when the user doesn't belong to any group (prevents admins suicides)


Changes 13.11.13
---------------------------------------------------------------------------------------
GENERAL
- createServices.php: Fixed bug and removed config to /moodle2
- statistics.php: Fixed data from Zikula 1.3 not being collected
- works.php: Support for Zikula 1.3 and moved testing from Moodle 1.9 to Moodle 2

ZIKULA
- Upgraded to version 1.2.9
- Fixed XSS vulnerability

ZIKULA 2
- IWusers: Fixed some module variables not being called correctly, as they belong to IWusers instead of IWmain
- IWusers: Fixed warning when accessing to users module without being logged in
- IWmoodle: Fixed dropdown group menu in synchronization section
- News: Improvements to user interface to create news
- Files: Several usability improvements

MOODLE 2
- Fixed bug on submissions count shown in My Moodle summary page
- Coursequotas: Duplicated files in a course are only counted once
- Coursequotas: Added usage info of temp and trashdir directories
- Forums: Fixed error in My profile > Forum Posts > Discussions (https://tracker.moodle.org/browse/MDL-39788)
- Fixed bug on simple course format related with save images when editing
- Fixed bug with modinfo corruption (Fix for https://tracker.moodle.org/browse/MDL-36789)
- Reviewed rcommon (Marsupial) code to avoid some problems with PostgreSQL (patch reported by UPCnet)
- Enabled enablegroupmembersonly experimental parameter
- Fixed Moodle footer appearing over "New activity or resource" popup Window
- Fixed bug on overviewnumpostssince count shown in My Moodle Page
- Hidden Alfresco repository (only visible for xtecadmin or when it's enabled)
- Showed again Appearance | Default My home page parameters page
- Hidden delete button for admins on Plugins | Filters | Manage filters page
- Updated catalan translation (13-11-2013)

PORTAL
- Upload files: File name can reach 100 characters
- Upload files: Improved some messages for users
- Only admins are allowed to see authors' names in logs
- Agoraportal: Fixed grammar error and improved message to deny increase of quota
- Agoraportal: When a manager name is an email, the text after the at sign (@) is removed


Changes 13.10.16
---------------------------------------------------------------------------------------
GENERAL
- Fixed bug in Agora cookie that caused to use always file allSchools.php

MOODLE 2
- Fixed bug when reseting assign grades (https://tracker.moodle.org/browse/MDL-41877)
- Installed Wiris Quizzes (version 3.23.0.0749)
- Participants count correction shown in Grading summary page (https://tracker.moodle.org/browse/MDL-38128)
- Added tool uploadcourse for bulk courses creation
- Added tool uploadcoursecategory for bulk course categories creation
- Updated Marsupial modules to v2.0.3
- Odisseagtafsync: Enrolments from file are now done with 'Manual' plugin
- Updated catalan language pack (15-10-2013)
- Updated spanish language pack (15-10-2013) and fix for https://tracker.moodle.org/browse/MDL-30788

ZIKULA
- iw_moodle: Fixed group list in enrolment
- iw_moodle: Fixed connection to Moodle 2 when there is no Moodle 1.9

ZIKULA 2
- AdminMessages: Fixed translation of name for URL
- IWmoodle: Fixed configuration for connection to Moodle 2
- IWmoodle: Removed code to connect to Moodle 1.9 (for it is not supported)
- IWmoodle: Fixed permission and set connection to persistent
- IWmoodle: Fixed group list in enrolment
- IWmoodle: Fixed enrolment in Moodle from Intraweb
- IWmoodle: Fixed users created from Moodle not being activated
- Upgrader: changed IWgroups by Groups in menu because iw_groups no longer exists
- Groups: fixed group creation link not being shown
- Theme IWxtec2: fixed alignment of icons in admin tabs
- Added legacy icons for compatibility when upgrading
- IWforms: Fixed litle bugs in manage functionalities
- IWforms: Added users filter functionality


Changes 13.09.23
---------------------------------------------------------------------------------------
GENERAL
- Updated cron URL for Moodle 2 after URL change

MOODLE 2
- Changed cron order to delete files from temp before uppgrading assignments (to avoid problems with course sections) and reviewed code to avoid warning when trying to delete '.' folder
- Fixed bug for JClic activities when upgrading from Moodle 1.9 empty maxgrade (reported by Ferran Recio - UPCnet)
- Fixed bug related with SMART Board incompatibility with Drag&Drop AJAX (https://tracker.moodle.org/browse/MDL-37528)
- Added first version of the replacextec tool
- Added first version of the odisseagtafsync tool
- Added Marsupial rgrade block (developed by Text-La Galera)
- Added ForzarGuardar parameter to rcontent module
- Fixed bug with rscorm to let update the launch when it has been changed (patch reported by Santillana)
- Upgraded qformat_hotpot from v2.0.8 to v.2.0.13 to fix some importing problems
- Upgraded geogebra module to v0.2.4 RC version
- Updated catalan translation (19-09-2013)

ZIKULA
- Added ability to reduce the size of right column when it is empty in themes iw_xtec and iw_xtec2
- iw_bluegrace_agora: Reduced size of input field for login
- Validation of users with imported salted passwords from Moodle

ZIKULA 2
- Imporved module IWforums and added the functionality of setting messages in top of messages list
- Added missing lang file for editor Xinha which threw a popup error window in some systems
- Added ability to reduce the size of right column when it is empty in themes IWxtec and IWxtec2
- Validation of users with imported salted passwords from Moodle


Changes 13.07.10
---------------------------------------------------------------------------------------
GENERAL
- Added muc directory and cacheconfig.php to checkFiles.php
- Added code to block access during stress tests

MOODLE
- Fixed backup copies not being automatically removed when moving to Moodle 2

MOODLE2
- Changed lib/moodlelib.php to add odissea auth method
- Fixed whitespaces in langlist
- Added support for SSO from Zikula 1.3
- Added removal of temp files to local/agora/cron.php
- Fixed course format 'Senzill per temes' not being able to go to next topic
- Updated catalan translation files (05-07-2013)
- Fixed theme selector to let select a theme when !is_agora
- Fix for style in module page which is incorrectly overriden by style in rcommon block

PORTAL
- Added catalan name of module Users to https login
- Removed shortening of city name when activating moodle service

ZIKULA2
- Added catalan name of module Users to https login


Changes 13.06.21
---------------------------------------------------------------------------------------
MOODLE
- Fixed "inconsistent datatypes: expected - got CLOB" bug when creating questionnaire backup.
- Revised procedure to create a backup of the specified course without user information (1.9 -> 2 import tool).

ZIKULA2
- Fixed connection to DB when parameters are not standard
- Improvements to styles of theme IWxtec
- Fixed uninstall of module Quotes
- Added https login


Changes 13.06.14
---------------------------------------------------------------------------------------
GENERAL
- Modified createSchoolsListsFiles.php to call Moodle 2 crons even if its URL ends with /moodle2
- dblib-mysql: added info of intranet version to cookie
- replaceMoodle: added support for Moodle 2 and any kind of text replacement
- chekFiles.php: shows web server name

MOODLE
- Added permision to xtecadmin to access to scheduled backup parameters

MOODLE2
- Fixed font face "lletra lligada", which only worked in theme design mode
- Fixed course import when category names in Moodle 1.9 have some special chars
- Fixed javascript interference from theme xtec2 to other themes. Credits to mTorres for the fix (https://github.com/projectestac/agora/issues/14)
- Added Single Sign On with IWmoodle for Zikula 1.3
- Reviewed import19 tool to load Moodle 1.9 courses only when the user has the capability to create courses in some category
- Added link to Àgora and Moodle portal from XTEC2 footer
- Updated GeoGebra module
- Grant access to langimport subpackage only to xtecadmin user
- Updated catalan translation files (11-06-2013)
- Added translations files for Arabic, Greek, Basque, Galician, Italian, Japanese, Korean, Dutch, Portuguese, Russian, Swedish, Urdu and Chinese
- Fix for style in module quiz which is incorrectly overriden by style in rcommon block

PORTAL
- Updated messages for activation of new services
- Commented code to syncronize Intraweb and Moodle 2 (no longer needed)
- Moodle 1.9 no longer needed to request marsupial
- Updated Terms of Service

ZIKULA
- Fixed iwcron.php not calling properly some maintenance functions
- Fixed potential security issue reported by CESICAT

ZIKULA2
- Added directory zikula2 to start upgrade of Intrawebs


Changes 13.05.13
---------------------------------------------------------------------------------------
MOODLE2
- Added SVG icons for rcontent and rscorm
- Added cron code to upgrade upgradable assigments.
- Course import from 1.9 now allows import of all courses where user has capability 'moodle/site:backup'
- Course import from 1.9 now allows to select target category
- Fixed code in theme xtec2 which may interfere javascript in other themes
- Reviewed MUC configuration to avoid use agora_store for questiondata cache
- Installed alpha version of the GeoGebra module
- Forced default timezone to Server's local time (to avoid problems with quizzes)

PORTAL
- Fixed managers not being able to ask for a new service when service 'moodle' doesn't accept new registers


Changes 13.04.26
---------------------------------------------------------------------------------------
GENERAL
- First version of utility to massive creation of Moodle 2 services

MOODLE2
- Fixed error when building category tree
- Import utility now removes backup copies after restoration
- Installed QV module
- Reviewed default enrol cohorts behaviour to let everybody with cohort:view capability enrol system cohorts
- Added CFG param to settings.php to define default blocks when creating a course
- Hidden Cache plugins section (only visible for xtecadmin)
- Added $CFG->altcacheconfigpath to have only one cache config file for all instances (instead of having one for each site in moodledata/usuX/muc/config.php)
- Hidden all themes to avoid schools to change it. Now, only xtec2 and mymobile themes are visible
- Fixed "assignments appear at the end after upgrading them to 2.2".
- Rush hours are now configurable
- Blocked course restoration in rush hours
- Logo set in theme xtec2 is now uploaded into Moodle files
- Removed chat module to avoid performance issues
- Added marsupial module for Moodle 2.4


Changes 13.03.22
---------------------------------------------------------------------------------------
PORTAL
- Allow access to file manager to schools with only Moodle 2 (no Moodle 1.9 required)

MOODLE2
- Fixed bug in db authentication related with Intraweb users integration
- Upgraded Moodle 2.4.0 to 2.4.3
- Fixed size of input files of login block
- Added temporary debug code in coursequotas
- Updated EOICampus module version to fix problem when restoring courses from Moodle 1.9

ZIKULA
- Fixed call to stats summarize function in iwcron.php
- Removed https in login block


Changes 13.03.15
---------------------------------------------------------------------------------------
GENERAL
- Hardened security of the multisite cookie
- Modified replaceMoodle.php to be executed from the server
- $agora['config']['xtecadmin'] is always encrypted
- Added .htaccess password protection to html/config/

PORTAL
- Force usage of https when users clic to menu option to log in
- Added https login in portal for Zikula 1.3.x
- Automatic e-mails are BCC sent to site e-mail instead of CC sent to current admin user
- Fixed error when users accept to be a manager (function managerChoose())
- Random password generated and sent via e-mail when a service is activated
- Added ability to execute SQL to portal database
- Schools that withdraw the services can now ask for them again
- When a user is proposed as a manager, now receives a notification e-mail
- Defined new state for services: deactivated
- Messages sent to Moodle or Intraweb from portal are now saved into session to avoid problems with special chars in Intraweb

MOODLE 2
- Added CSS style for "Defined in config" params and improved styles for input fields
- Released 0.2.3 JClic version and updated version.php file (changes has been included some weeks ago)
- Fixed bug when deleting jclic activities and enableajax is enabled
- Fixed bug with assign files when submitting a file with the same name but different content (https://tracker.moodle.org/browse/MDL-38091)
- Improved efficiency of coursequotas report
- Fixed bug with import19 tool to let Moodle 2 admins restore all Moodle 1.9 courses (even if they aren't admins in Moodle 1.9)
- Improvements to CSS of theme xtec2 to improve usability of GradeBook and in calendar selector in "New assign"
- Updated Journal module to 1.8.1 version
- Fixed bug when deleting group (https://tracker.moodle.org/browse/MDL-37098)
- Updated catalan translation (13-mar-2013)

ZIKULA
- Added call to stats summarize function in iwcron.php


Changes 13.02.12
---------------------------------------------------------------------------------------
GENERAL
- Added gathering of users active last 30 and 90 days in Moodle 1.9. Also fixed in 2.4.
- Added extra-security-check

MOODLE
- Changed value to backup_sche_users parameter to avoid Odissea problems when restoring courses directly from Moodle 1.9 to Moodle 2

MOODLE 2
- Fixed sending e-mail using XTEC Web Service
- Added course format "Senzill per temes"
- Performance improvements to coursequotas report plus code organizational changes
- Added SVG icon for hotpot, questionnaire and journal activities
- Fixed bug in db authentication related with Intraweb users integration
- Added a restriction to avoid admin user changes its own username (admin has to be always admin!)
- Fixed bug to let edit user profile from participants page of a course (https://tracker.moodle.org/browse/MDL-36674)
- Updated translation for Moodle 2.4 (version date: 13-feb-2013)
- Fixed bug when openning URL in new window (https://tracker.moodle.org/browse/MDL-37015)

ZIKULA
- Fixed statistics summary process

PORTAL
- Fixed deletion of backup files from portal when school has no Moodle 2
- Increased version of agoraportal in order to add fields to stats tables
- Fixed incorrect filtering in 'Sol·licituds'


Changes 13.01.14
---------------------------------------------------------------------------------------
GENERAL
- Added rule in .htaccess to fix logout when accessing to /moodle/my

MOODLE
- Fixed bug with sessions_summary initialization at JClic module

MOODLE 2
- Updated Wiris version for Moodle 2.4
- Fixed bug in hotpot module: https://tracker.moodle.org/browse/CONTRIB-3896
- Fixed hand-write font family (aka 'lletra lligada') in Moodle 2.4
- Fixed YIU problems in EOICampus module (for Àgora-EOI)

ZIKULA
- Removed theme voodooDolly. No schools use it
- Removed theme iw_mobile


Changes 12.12.28
---------------------------------------------------------------------------------------
MOODLE 2
- Updated Moodle version to 2.4.0
- Updated hotpot module to 3.0.52
- Updated questionnaire to 2.3.3
- Updated Wiris CAS and Editor to 3.19.2 (this version isn't yet adapted for Moodle 2.4)


Changes 12.12.12
---------------------------------------------------------------------------------------
GENERAL
- Added param to allow not updating dayly stats of Moodle 1.9 if they already exist
- xtecSchool cookie name is now a param in html/config/config.php

MOODLE
- Added server name to adodberror log to know which web server was implied
- Fixed database ordering problems notified by Odissea team (http://tracker.moodle.org/browse/MDL-33603)
- Fixed problem when deleting some of the user responses in a choice activity (only affects to multi-site instances)
- Showed $CFG->dataroot/climaintenance.html file when exists (at the moment, it will be used in demo site but, if necessary, it can be used in the remaining multi-sites)

MOODLE 2
- Fixed course order in courses tab of coursequotas. Units were not being considered when ordering.
- Added missign Catalan translation files to questionnaire module
- Added support for https authentication using BigIP
- Adapted source to rename logo_agora to logo_main in xtec2 theme (to make it more generic)
- Added user bulk function to capitalize names and surnames
- Reviewed function create_user_record in lib/moodlelib.php to capitalize user name and surname
- Added CFG->userquota = 0 to avoid the private files area

PORTAL
- Updated message sent to users when a new service is activated


12.11.21
---------------------------------------------------------------------------------------
GENERAL
- Changed OCI connections to persistent (oci_pconnect()) in dblib-mysql.php

PORTAL
- Updated automatic e-mail sent when activating a new service

MOODLE
- Added is_agora() check to backup_agora.php to enable Moodle to import when is not Àgora
- Reviewed coursequotes to make it works with single installations (like Odissea)
- Fixed bug with database activities to avoid problem with data visualization when entrieslefttoadd parameter is defined

MOODLE 2
- Modified the file auth/db/auth.php to make possible to validate simultaniously through the intranet, simulating a SSO validation, and the typical Moodle authentification form using the External Database authentification method
- Fixed bug when restoring directly big courses from Moodle 1.9 (the course filename was different because the creation took more than one minute).
- Fixed hardcoded prefixes in import19
- Added is_agora() checks to import19 to enable Moodle to import when is not Àgora
- Fixed bug related with guest viewing folders (http://tracker.moodle.org/browse/MDL-34338)
- Added some restrictions to disable specific modules, like eoicampus
- Fixed bug in JClic module related with users reporting (only first page was showed)
- Reduced from 4 days to 1 the waiting time to purge draft files
- Increased default repository timeout from 30 to 150 to let downloading bigger files
- Added $CFG->agora_draftfilepurgeage parameter to let configure the waiting time to purge files (default Moodle value was 4 days but now it's only 1 day if $CFG->agora_draftfilepurgeage is not specified).
- Installed first version of the eoicampus module

ZIKULA
- Adapted the module IWmoodle to be consistent with the new validation possibilities
- Fixed incorrect update of upload_dir in formicula to fix a lot of errors in error_log temp files
- iwcron: added removal of temp files
- In 'Go to Moodle' Block now it is possible to select if the school have or not have the version 2.x of Moodle active in order to choose the correct folder in server


12.10.24
---------------------------------------------------------------------------------------
GENERAL
- Fixed error while picking up Moodle 2 number of access

MOODLE
- Fixed some Oracle bugs in GeoGebra module related with ` character

MOODLE 2
- Updated coursequotas report. Now is ready for production.

ZIKULA
- IWstats: Added the posibility to choose the user information to show in online users block


12.10.10
---------------------------------------------------------------------------------------
MOODLE
- Updated rcommon block to fix bug related with deleted and non confirmed users (http://projectes.lafarga.cat/projects/marsupial/tracker/850/2414/detail)
- Updated rcontent module to update URLVIEWRESULTS fields sizes for large urls
- Added file to automate course creation (for Àgora-Formació)

MOODLE 2
- Fixed bug in /moodle/my related with Oracle reserved word (http://tracker.moodle.org/browse/MDL-35387)
- Updated wiris version to 3.18.2 and hidden Wiris buttons when the filter is not enabled.
- Fixed bug to let navigation in courses with COURSE_DISPLAY_SINGLEPAGE when a section is marked as current.
- Undone change because the patch specified in http://tracker.moodle.org/browse/MDL-29432 create problems restoring other backups.


12.10.03
---------------------------------------------------------------------------------------
PORTAL
- Increased maximum upload size of big files to 100 MB
- Fixed error shown when not able to send an e-mail

MOODLE 2
- Enabled spell checker for tiny_mce editor (http://tracker.moodle.org/browse/MDL-34674)
- Removed contextmenu plugin of tiny_mce editor to normally check spelling with right click button
- Enabled purgecaches without login (to update automatically changes in xtec2 theme)
- Updated version from 2.3.1 to 2.3.2. Updated also questionnaire and journal modules to latest version



12.09.19
---------------------------------------------------------------------------------------
MOODLE
- Updated rcommon and my_books blocks to 1.6.1 version
- Fixed bug related with sending email during users signup adding $CFG->noreplyaddress to settings.php

MOODLE 2
- Improved XTEC2 theme to redessign tab options, underline theme titles and review color button in file selector.
- Fixed bug related with sending email during users signup adding $CFG->noreplyaddress to settings.php


12.09.05
---------------------------------------------------------------------------------------
MOODLE
- Updated rcommon and my_books blocks to last version (1.6.0-beta ++)
- Updated rgrade to last version to fix some problems and add new functionalities

MOODLE 2
- Fixed bug with filtering in analysis report (http://tracker.moodle.org/browse/CONTRIB-3896)
- Fixed bug with cohorts when adding users (http://tracker.moodle.org/browse/MDL-35270)


10.08.27
---------------------------------------------------------------------------------------
GENERAL
- Fixed URL for Moodle 2 in createSchoolsListsFiles.php

MOODLE
- Installed GeoGebra module (http://moodle.org/plugins/pluginversions.php?plugin=mod_geogebra)

MOODLE2
- Updated Moodle version to 2.3.1
- Updated hotpot module to 3.0.43
- Updated hotpot question format to 2.0.8
- Updated journal to 1.6
- Updated questionnaire to 2.3.1
- Updated assign to moodle 2.3.1+ (Build: 20120823)
- Installed Wiris CAS and Editor 3.17.23
- Changed default coursedisplay to show only one section per page and showed current section if none is selected
- Added Catalonia to countries list
- Improvements to theme xtec2
- Added param to import external CSS in theme xtec2
- Changed block image to fold/unfold block by an HTML entity
- Implemented file upload blocking when disk quota is exceeded
- Fixed problem duplicating quizzes (http://tracker.moodle.org/browse/MDL-29432)
- Fixed bug with Intranet user sincronization


12.08.01
---------------------------------------------------------------------------------------
GENERAL
- Added key in getAllSchools return array
- Modified the cron list adapting the url with antic or moodle, depending on if the schools have or not the service Moodle2 active
- Updated URL to access to Àgora web service to get school info
- Added check for Àgora web service

PORTAL
- Fix problem in Moodle and intranet join. Now can join the Moodle and the intranet for any version of Moodle
- Added the possibility to recalc the disk consume by clients managers
- Added function to access directly to terms of service without being logged

MOODLE
- Updated Moodle from 1.9.12 to 1.9.19+

MOODLE2
- Fixed bug with advices block
- Added french and german languages
- Updated catalan language
- Added library jpgraph, required by quota reports (which is not added yet)
- Updated Hot Potatoes module to 3.0.42. Fixes several bugs
- Import courses from 1.9: fixed bug with siteadmin and managers if the user doesn't exist in Moodle 1.9

ZIKULA
- In module IWmoodle protect inscriptions in courses if the inscripctions manual method is not defined


12.07.17
---------------------------------------------------------------------------------------
GENERAL
- Added code to restrict access to all services during stress tests
- Added file with code to change of /antic to /moodle in moodle 1.9

PORTAL
- Use Oracle instance and MySQL dbHost from database instead of calculate it in SQL execution
- Deactivated usage of APC cache with Doctrine
- Added link to allow managers to manually recalc the disk consume

MOODLE2
- Added option to restore courses directly from Moodle 1.9 (beta version, only accessible for xtecadmin)
- Added additional check to avoid problems when restoring JClic activities from Moodle 1.9 with incorrect URL
- Fixed bug related with calendar (when calendar_adminseesallis enabled) - http://tracker.moodle.org/browse/MDL-32340
- Reviewed restriction to avoid admins or managers edit user profiles (except xtecadmin)

ZIKULA
- Changed default params to IWmoodle
- Added params to connect to Moodle 2


12.07.10
---------------------------------------------------------------------------------------
GENERAL
- cronMoodle2 and updateMoodle2 will generate /antic URLs
- Improved the way Oracle instance names are calculated. Also fixed special case for Àgora-EOI
- Removed legacy dblib.php
- Added Moodle2 to checkFiles.php
- Removed params not being used in config.php
- Added diskConsume also to moodle_stats_day, moodle_stats_month and moodle2_stats_month tables

PORTAL
- Added diskConsume also to moodle_stats_day, moodle_stats_month and moodle2_stats_month tables
- Changed prefix for sessioncookie to make difference between Moodle 1.9 and 2
- Fixed synchronization between Moodle 2 and Intranet
- Fixed sending advices to intranet
- Activated usage of APC cache with Doctrine
- Added param to control persistent connections to Oracle DB's
- Fixed execution of SQL in intranet sites from the portal
- Updated terms of use of Agora services

MOODLE
- Adapted admin/replace.php to replace also content in label, forum, resources, quizzes...

MOODLE2
- Added additional check to avoid problems when restoring JClic activities from Moodle 1.9 with incorrect URL


12.07.04
---------------------------------------------------------------------------------------
GENERAL
- Changed .htaccess and config files to add exceptions for Moodle 2 testing (moodle2 -> /moodle and moodle -> antic)
- Added creation of files cronMoodle2.txt and updateMoodle2.txt in adminInfo

PORTAL
- Redesigned service icons
- Fixed error after managers accept or refuse being managers
- Fixed upgradeDiskUse()
- Changed AuthLDAP module to use new LDAP server
- Changed e-mail sent to users after creating moodle2 services
- Updated terms of use

ZIKULA
- Changed AuthLDAP module to use new LDAP server


12.06.27
---------------------------------------------------------------------------------------
MOODLE
- Reviewed style for dimmed links
- Changed ldap/auth.php to connect to OID LDAP server (instead of SUN LDAP server)

PORTAL
- Fixed bug with xtecmailer
- Reviewed crons to fix problems detected with portal update


12.06.20
---------------------------------------------------------------------------------------
MOODLE
- Fixed bug with user export to CSV: added empty fields also to the file
- Added password field to bulk download

MOODLE2
- Changed simple to multi installation

PORTAL
- Updated to 1.3 Zikula version


12.06.14
---------------------------------------------------------------------------------------
MOODLE2
- Uploaded first version of Moodle 2 (single installation with USU2) for testing it


12.05.30
---------------------------------------------------------------------------------------
PORTAL
- Improved efficiency when loading form for uploading big files to Moodle

MOODLE
- Fixed bug to get aplication name and replyTo address from configuration (instead of having the "AGORA" default values directly in the source code)
- Updated marsupial to v1.5.2
- Added marsupial_rgrade block (developed by Text-La Galera)


Changes 12.04.02
---------------------------------------------------------------------------------------
GENERAL
- Fixed config/statistics.php: number of users of intranet where not being updated

MOODLE
- Added patch for MSA-11-0031 (http://moodle.org/mod/forum/discuss.php?d=188313)
- Added patch for MSA-11-0036 (http://moodle.org/mod/forum/discuss.php?d=188318)
- Added patch for MSA-11-0038 (http://moodle.org/mod/forum/discuss.php?d=188320)
- Added patch for MSA-11-0045 (http://moodle.org/mod/forum/discuss.php?d=191754)
- Added patch for MSA-11-0007 (http://moodle.org/mod/forum/discuss.php?d=194015)

PORTAL
- Removed old theme (iw_xtec_2) not used


Changes 12.03.14
---------------------------------------------------------------------------------------
GENERAL
- Removed legacy params from config files
- Fixed error.php to use images, CSS and JS from portal
- Fixed detection of non-existing services, which are redirected to error.php

PORTAL
- Started work on function agoraPortal_admin_listDataFiles
- Added Pages module
- Added images, CSS and JS from old acces directory
- Minor improvements to request system. Also removed unnecessary code.

MOODLE
- $CFG->iseoi moved to database from settings.php
- Updated marsupial version to 1.5.2 (beta) to fix some bugs in rcontent and rscorm modules from Marsupial (related with wsSeguimiento, the monitoring web service)


Changes 12.02.17
---------------------------------------------------------------------------------------
GENERAL
- works.php: Changed the way to determine what IW DDBB servers and MDL instances will be used to check status.
- Removed legacy folders: acces, adminTools and eines

PORTAL
- Fixed bug when connection MDL - IW. Value for db name in mlconfig_plugins was incorrectly set.
- Added param to require a maximum of free quota in order to ask for an increase.
- Link to requests form in MyAgora is only shown when user can ask form more space.
- Edition of client requests now sends e-mail to client code and managers.

MOODLE
- Added links to courses and categories in the coursequotes report page.


Changes 12.01.18
---------------------------------------------------------------------------------------
GENERAL
- Reviewed $agora['server']['ca_bundle'] file path to put the correct one (missing html/)
- Removed 1==0 to send emails to schools and uncommented $CFG->diskPercent to enable user quota usage (to avoid users upload files when the quota is exceeded).
- Added ability to works.php to check only current web server, not all the apps.

PORTAL
- Fixed error in intranet function getFreeDataBase which caused incorrect detection of free DB's
- Added param maxAbsFreeQuota to configure the minimum absolute free quota to e-mail users
- Fixed error message due to check error when activating new services

MOODLE
- Reviewed questiontype bug to replace "temporary" solution by the "oficial" one (http://tracker.moodle.org/browse/MDL-29294)


Changes 11.12.14
---------------------------------------------------------------------------------------
GENERAL
- Improved works.php to check not only DB connections but also table access
- statistics.php: intranet stats were not collected correctly

PORTAL
- Minor improvements to quota messages sent to users

ZIKULA
- iw_jclic: fixed incorrect component in permission check


Changes 11.11.28
---------------------------------------------------------------------------------------
PORTAL
- Request system is ready for production
- Improved updateDiskUse, with better report to admins!

MOODLE
- Updated Wiris CAS and Editor to 2.3.5 and installed Wiris Quizzes (v1.4.5.39)
- Fixed "ORA-00932: inconsistent datatypes: expected - got CLOB" error with HotPot Quiz activity
- Fixed bug when there is no rscorm_scoes (in this case it's not necessary to return false)

ZIKULA
- Fixed problem during agenda fields modification


Changes 11.11.15
---------------------------------------------------------------------------------------
PORTAL
- Added function managerChoose which was lost in previous version

ZIKULA
- Fix admin login when site is off
- Improved module IWstats with summary features

MOODLE
- Fixed "ORA-00932: inconsistent datatypes: expected - got CLOB" error with HotPot Quiz activity
- Updated marsupial version to 1.5.1 (final release)


Changes 11.11.09
---------------------------------------------------------------------------------------
MOODLE
- Added stream_context parameter to SoapClient calls from marsupial-atria module to void problems with HTTPS connection and updated Atria URL from HTTP to HTTPS
- Added CURLOPT_CAINFO to validate certificates for all the HTTPS connections (like recaptcha when loginhttps=true)
- Applied patch to update new recaptcha domains (http://tracker.moodle.org/browse/MDL-27328)
- Updated marsupial version to 1.5.1 (beta release)

PORTAL
- Fixed some problems in updateDiskUse function and added debug parameter. On this version, the cron to index.php?module=agoraPortal&type=admin&func=updateDiskUse can be scheduled to test it (at the moment, the warning emails won't be sent)
- Upgraded version to 1.6 to get new tables for user's request system
- Added code of request system, but not working yet
- AuthLDAP: improved creation of clients. Now it's able to create clients later if there is any problem when users log in for the first time.

ZIKULA
- Minor improvements to theme iw_xtec2


Changes 11.10.26
---------------------------------------------------------------------------------------
GENERAL
- statistics.php: fixed using wrong connection to admin database to save stats info.
- statistics.php: Changed $agora['intranet']['adminuser'] by $agora['admin']['database']
- statistics.php: Intranet dbname is now built with userprefix + id
- statistics.php: Fixed incorrect dbhost in intranet (was used general dbhost)
- statistics.php: Added ability of execute only Intranet or only Moodle stats
- getFreeDB (dblib-mysql.php): Return only one record to improve SQL performance
- works.php nows tests all intranet databases (MySQL)

MOODLE
- Fixed bug in Marsupial users viewer
- Updated Marsupial module version to 1.5
- Added CURLOPT_SSL_VERIFYHOST=FALSE to avoid problems with CA when the connection is HTTPS (it can be tested, for instance, with the recaptcha if loginhttps=true)
- Changed temporally Atria URL from HTTPS to HTTP until problems with CA in some of the servers will be fixed

ZIKULA
- Fixed storing of sessions in filesystem


Changes 11.10.17
---------------------------------------------------------------------------------------
GENERAL
- Mails header set in settings.php
- Removed transition code for intranet dbhost. Now is set for all intranet services i DB.
- Added syncdata/sync/allSchools.php to checked files
- Added var to config.php: $agora['intranet']['userprefix']

PORTAL
- Script name (ubr_upload.pl) moved to config.php. Special care must be taken with this when building new version.
- Removed redundant include_once of env-config.php. Redundant require_once were removed some commits ago.
- Zikula now uses $agora['admin'][] array to connect to DB. Values must be changed in env-config.php !!
- Removed duplicated function connectExtDB (was in pnadminapi and in pnuserapi)
- dbHost of intranet is now correctly handled when adding services and connecting Moodle and Intranet
- Improved the way Zikula params were updated when creating a new intranet

MOODLE
- Fixed bug in marsupial state page when getting users with and without credentials
- Reviewed code to remove mlXXXX references and optimize SQL queries
- Fixed little bugs in marsupial block
- Hidden "Manage publishers" if there isn't any publisher and useAtria!=false
- Hidden "Syncronize with Atria" button when there is some publisher
- Fixed "ORA-00932: inconsistent datatypes: expected - got CLOB" error with assignments when ordering by comments



Changes 11.10.03
---------------------------------------------------------------------------------------
GENERAL
- statistics.php: Comented code to not check if school code exists (it always exists).
- Added var to config.php: $agora['intranet']['moodle_dbtype']
- dblib-mysql.php: added support for different DB server for each service

PORTAL
- Removed redundant require_once. Env-config is already loaded in Zikula config.
- Commented code to delete and create agoraPortal module. Those actions can be done, but nothing happens.
- Added field for dbhost for every service. Increased version number of agoraPortal.
- Database and server database can be edited.

MOODLE
- Fixed bug in data searches
- Rush hour don't affect to xtecadmin
- index_iw.php: Changed zikula login URL
- Reviewed rcontent to save view action into the Moodle log
- Updated rcommon to fix some minor problems related with publishers with only one book
- Added report option to check Marsupial service state


ZIKULA
- iw_moodle: fixed the list of countries.
- iw_moodle: default moodle lang can be set in multizk environments.
- iw_moodle: improved the ability to recognise and synchronize the same user in zikula and moodle.
- iw_moodle: use permanent connections to Moodle DB
- iw_moodle: fixed error when default location contains aphostrofes
- Added support for different DB server for each school
- Database name is not build using server prefix (usu) and activedId. Don't use serviceDB cause is duplicated info.


Changes 11.09.21
---------------------------------------------------------------------------------------
GENERAL
- Added diskUsageZk.txt and diskUsageMdl.txt to checkFiles script

PORTAL
- Hardcoded parameters are now loaded from general config files
- Removed info shown when a school is not present in web service to not foolish some users
- Removed link to new service when school has all services
- Fixed problem during intranets activation due a wrong parameter for a variable in downloads module
- Added ability to send warning email near or over the disk usage limit (disabled feature)
- Number of rows configurable in services administration
- Several improvements to updateDiskUse() function

ZIKULA
- Hardcoded param in site-config is now read from general config/config.php

MOODLE
- Home of the diskquote viewer shows real data instead of stored data
- Updated marsupial module to version 1.4-beta
- Updated marsupial-atria module to version 1.5


Changes 11.09.14
---------------------------------------------------------------------------------------
GENERAL
- Added index.php to html/config to simulate access forbidden
- dblib-mysql: added opendb call to fix not checking Moodle DB's
- Added checkFiles.php script to check creation date of some autoregenerated files
- Fixed config file to be loaded in apc.php
- Fixed works.php which was foolished by usu10000 and higher

PORTAL
- Updated Zikula to 1.2.8

MOODLE
- Fixed some bugs related with images of the "senzill" format course
- In "disk space viewer" categories contains subcategories size too
- Removed extra security checks in index_iw.php to avoid problems with SSO and marsupial

ZIKULA
- Updated Zikula to 1.2.8


Changes 11.09.08
---------------------------------------------------------------------------------------
GENERAL
- Fixed detection of oldDNS. Now, when detected, redirects to an info page
- sync_to_file: removed legacy code, improved format and added some comments
- dblib-mysql: removed legacy code, improved format and added some comments

MOODLE
- Fixed problem when importing quizzes activities

PORTAL
- Removed debug code for admins when activating new services
- Checks and inform if a client have moodle in administrator pannel
- Added inteligent checks in services activation form depending on what checkboxs are checked
- The no visible clients can ask for new services and they can see the available services
- The admin password is the password of the manager who ask for the service
- General enhancements to e-mail sent when changings the state of services
- Removed synchronization of changing DNS to preschools and update info messages in change DNS


Changes 11.09.02
---------------------------------------------------------------------------------------
GENERAL
- Removed html/tools dir because it's no longer necessary
- Added script to create schools lists files to substitute the old adminTools'

PORTAL
- Fixed calc of free database in moodle
- Allow upload of big files to moodle even if quota is exceeded
- Removed Tour module because we're not using it and we won't do it


Changes 11.08.29
---------------------------------------------------------------------------------------
GENERAL
- Fixed dblib-mysql.php to provide school codes starting by letter or number

PORTAL
- Fixed bug related with allowedIps to execute updateDiskUse function
- Removed URL from Marsupial service
- Added disk usage and disk quote (in MB) to myAgora and upload Moodle files pages
- Ask for confirmation in case the user refuse to become a client's manager.
- Changed code to connect to moodle DB's (not in all cases). Better use of Zikula API and added limit length for field city in mluser table.
- Zikula doesn't recognise oci8po driver name. We must use oci8 (also possible: oracle)
- Improved information seen by managers in myAgora
- Removed restriction which blocked direct changes among some states

MOODLE
- Fixed problems with the top menu size
- Added function to remove old backups remotely
- Added menu to view disk usage quotes
- Added menu to manage Marsupial options
- Created page to show all the books from a publisher. Modified default option in the Marsupial main menu to show this page instead of update the book structure directly.
- rscorm lang files: Replaced ISBN string for "Book"
- rcommon lang files: Revised some strings to add HTML entities

ZIKULA
- Moved password update to finishnewuser. Just need to take care of moderation to be off.
- Commented code in system/Users to avoid sending of e-mail when an LDAP user is created i users table.


Changes 11.08.22
---------------------------------------------------------------------------------------
GENERAL
- Added param $agora['intranet']['datadir'] to config/env-config-dist.php
- Added params $agora['moodle']['discusagefile'] and $agora['intranet']['discusagefile'] to config/config-dist.php
- Added params $agora['server']['ubr_upload'] and $agora['server']['ubr_temp'] to config/config-dist.php

PORTAL
- Removed not used Zikula themes
- Fixed load of block position "center" missing in templates
- Changed log options in config.php
- Fixed integration of ubr_upload in agoraPortal.
- Lots of minor improvements to agoraPortal module.
- Added info for users to login screen

MOODLE
- Added functionality to block upload forms if there isn't free disk space
- Added functionality to remove old copies when backup succed
- Fixed problems with special characters in top menu
- Added option to remove old backups
- Modified XTEC2 theme (decoration and color of links)


Changes 11.07.08
---------------------------------------------------------------------------------------
GENERAL
- Revised dblib information to add diskPercent_moodle, diskPercent_intranet and clientCode. At the moment, the diskPercent is still not correct (is always 0).
- Statistics: Commented code which checks and adds schoolcode field tot tables, cause all tables already have it

PORTAL
- Improved initialization of the module agoraPortal adding schools to groups_membership as members of the group clients.
- Added parameter to allow restringered IPs to execute script for services disc consume.
- Ckecks and inform if a client have moodle in administrator pannel.
- Added inteligent checks in services activation form depending on what checkboxs are checked.
- The no visible clients can ask for new services.
- The admin password is the password of the manager who ask for the service.


MOODLE
- Updated version to 1.9.12
- Updated marsupial modules to last version and revised the code to hide them for non-marsupial schools.
- Installed atria module.
- Installed my_books block.
- Revised site-config.php to move location when the school domain is not correct.
- Added code to avoid upload files if the disk quota is exceeded.
- Enabled grouping experimental feature.

ZIKULA
- Fixed style in theme XTEC2 showing too-wide left column while wieving some modules like iw_noteboard
- Added templates to show localized error messages when there are technical problems
- Fixed iwcron sending incorrect new content notifications



Changes 11.06.27
---------------------------------------------------------------------------------------
GENERAL
- Statistics.php: moodle week stats use schoolcode in where clauses
- Changed adminTools to send e-mails via smtp.gmail.com. Requires change in html/eines/config.php
- Updated eines/phpmailer in order to support SSL connections
- apc.php now uses html/config/config.php instead of html/eines/config.php
- env-config-dist.php modified to get schools info from MySQL
- Added dblib-mysql.php to get schools info from MySQL
- config-dist.php modified with prefix of Portal and Intranet tables

PORTAL
- Improved performace of agoraPortal import of data
- Added upgrader to transform tables to utf-8
- Added advMailer
- Added AuthLDAP. Will replace clientAuthLDAP.
- Added disk consume calc functionalities
- Added Marsupial service
- Added 1x1 network property for clients
- Prefix set in general config file
- Save in a session variable the state in services table to recover previous state during services management and make things easier to administrators

MOODLE
- Added e-mail format validation
- New improvements in the management of Senzill format icons
- Removed old config files no longer used: personal_config.php and personal_config-dist.php
- Fixed problem with load balancing (BIGIP) HTTPS is enabled
- Moved CFG->enable_hour_restrictions param to database to change it easily
- Moved CFG->loginhttps param to database to change it easily

ZIKULA
- Removed safeHTML alert (admin_admin_securityanalyzer.htm)
- Improved automatic sending of new things to see by mail and traduced to Catalan
- All HTML tags are allowed for non admins if they are allowed in security center
- Removed old config files no longer used: personal_config.php and personal_config_mostra.php
- Prefix set in general config file


Changes in 11.05.16
---------------------------------------------------------------------------------------
GENERAL
- Statistics.php: courses and activities are calculated taking care of the moment of execution
- Statistics.php: improvements to code to increase SQL efficiency
- Statistics.php: improved phpdoc and several other minor improvements
- Statistics.php: improved intranet month users count and moodle month access

MOODLE
- Fixed error in forum's index appearance
- Fixed error in forum's summary sent via webservice


Changes in 11.05.10
---------------------------------------------------------------------------------------
GENERAL
- Revised works to fix some problems and check the intranet database connection also

MOODLE
- Added top menu in XTEC2 theme
- Added handwrite font
- Added possibility to send messages via apligest system
- Appearance modifications
- Fixed error of multiple file fields in the same database form
- Fixed errors between versions with UPCnet in "Senzill per temes" format
- Icon can't be chosen for "label" resource type in "Senzill per temes" format

ZIKULA
- Upgraded to Zikula 1.2.7
- Fixed change lost in update to 1.2.6: allow 'style' attribs in posts sent by non-admin users
- Fixed change lost in update to 1.2.6: force short URL always disabled
- Added new mailer module: advMailer
- Added new statistics module: IWstats
- Removed old upgrade scripts
- Added new script to install modules IWstats and advMailer and empty temp dirs
- Added new script to deactivate module Stats
- Minor improvements to iw_bookings

PORTAL
- Upgraded to Zikula 1.2.7
- Small change in graphics code for better showing of labels in agoraPortal graphics


Changes in 11.04.15
---------------------------------------------------------------------------------------
GENERAL
- Fixed access blocked to new schools present in DB but not yet in allschools.php
- Fixed statistics.php stopping when a school wasn't found in DB

MOODLE
- Added log for ADODB connection error. Log file is stored in usu1 site files.
- Removed warnings messages in format "Senzill per temes".
- Several improvements in management of format "Senzill per temes".
- Fixed invalid DNS showing database error instead of "not a valid school".
- Label resource is now enabled in format "Senzill per temes".

ZIKULA
- Added 2 files lost in the way of upgrading to Zikula 1.2.6
- Fixed invalid DNS showing database error instead of "not a valid school".




Changes in 11.03.18
---------------------------------------------------------------------------------------
MOODLE
 - Added Senzill course format, including big icons. GIF icons allowed. By defaul uses png icons.
 - New options to configure navigation bar in the top of the courses
 - Slideshow module upgraded to last version and edit_form.php addded
 - In personal messages sent from school account, the name of the autor appears on "subject" and "replyto" fields only

PORTAL
- Upgraded to Zikula 1.2.6
- New features in Statistics tool (order by, summatory, AI ...)
- Added one-click CSV export statistics (export of single schools no supported yet)
- Added graphics to Statistics (first version, not completed yet)
- Changed stats script to use school code instead of school DNS

ZIKULA
- Upgraded to Zikula 1.2.6
- Error getting Zikula version in Export module solved
- Added templates to display news in RSS, Atom and Printer formats
- Cosmetic improvements to theme iw_xtec
- Fixed bug in Files module to allow downloads of files in root folder
- Fixed 2 bugs in iw_moodle which prevented some groups to be shown in course inscription and in user synchronization
- Fixed alternate link to RSS in themes iw_xtec, iw_xtec2 and iw_bluegrace_agora




Changes in 11.01.24
---------------------------------------------------------------------------------------
MOODLE
- Using new system to get database connection information
- Added patch to change special chars in CSV user upload files  (only for the username field)
- Updated marsupial module (rcommon, rcontent and rscorm) to last version (1.2)

PORTAL
- Using new system to get database connection information

ZIKULA
- Using new system to get database connection information
- Fixed wrong width attributes in <img> tags
- Fixed false-positive errors shown related to Moodle DB Connection


Changes in 11.01.03
---------------------------------------------------------------------------------------
MOODLE
- Warning of "Advices block" removed
- Edu3 videos now available in tasks
- Changed logos according to new brandname
- Updated marsupial module (rcommon, rcontent and rscorm) to last version (1.1)

PORTAL
- Changed logos according to new brandname
- Created new theme (based in iw_xtec2)

ZIKULA
- Changed logos according to new brandname
- Error in "save draft" function in "News" module solved


Changes in 10.12.27
---------------------------------------------------------------------------------------
MOODLE
- Fixed error with suport email
- Updated wiris module version and changed config file to remove edu365 references (because license is not valid from 01/01/2011)
- Error in search by menu or multimenu fields in moodle's databases solved

PORTAL
- Added features of "Order by" and "Summatory" in stats manager
- Fixeded error with weekly stats generation

ZIKULA
- Fixed error with navigation in iw_bookings module
- Fixed error with importation in Export module


Changes in 10.12.02
---------------------------------------------------------------------------------------
MOODLE
- Revised db auth method to let edit parameters when $isagora is not enabled

PORTAL
- Fixed bug (with new order by feature)


Changes in 10.11.30
---------------------------------------------------------------------------------------
GENERAL
- Revised username text for login page (to avoid confusion)

MOODLE
- Customized database connection error

PORTAL
- Added feature to order schools by schoolid (for advices and SQL functions)
- Fixed database username hardcoded. Now, using variables defined in config.

ZIKULA
- Solved some error in iw_chat module


Changes in 10.11.04
---------------------------------------------------------------------------------------
MOODLE
- Added changes on mail subject, prefixing [Àgora] to let selecting and filtering messages from Agora
- Avoid replying to SMTP address when sending via Google Apps
- Solved bug "SQL ORA-00932: inconsistent datatypes: expected - got CLOB" in database module

PORTAL
- Solved error with installation/uninstallation of the module AgoraPortal
- Improved "Edit" feature of the stored SQL commands
- Added menu with tabs for the stored SQL commands

ZIKULA
- Added files of module iw_chat lost in the last update
- Fixed some tiny errors of Export module
- iw_xtec2 theme is now customizable through files in Files module


Changes in 10.10.18
---------------------------------------------------------------------------------------
MOODLE
- Improvements on xtec2 theme
- Bug repaired: "Can't delete quiz attempts when specific group is selected" MDL-22847 It will be solved on Moodle 1.9.10 version
- Updated message on Rush hour taken operations

PORTAL
- Added functionality to store SQL comands to database
- SQL comands now recounts the values if they are unique
- Repaired some errors with SQL execution

ZIKULA
- Fixed unclosed tag in formicula module template
- Removed block xslt.php because breaks Zikula in Agora
- Removed Zikula restriction which blocked style attributes in HTML tags when user is not admin
- Added module iw_menu
- Added module iw_chat based on phpFreeChat
- Improved templates on several modules
- Added theme iw_xtec2
- Adapted all templates to iw_menu module
- Added module Export
- All themes updated to support iw_menu


Changes in 10.09.27
---------------------------------------------------------------------------------------
GENERAL
- Added educat info to Moodle stats

MOODLE
- Changed rush hour (from 9-14 and from 15-17)
- Solved bug with restore lib

PORTAL
- Added option to send notices to Intranets
- Solved some problems with SQL execution


Changes in 10.09.15
---------------------------------------------------------------------------------------
GENERAL
- Moved CHANGES.txt to html directory to include it in all the versions

MOODLE
- Deleted the chat deleting scripts
- Added Image Slideshow module
- Removed 1.9.7 securiy warning message (to avoid confuse people with the installed Moodle version)
- Updated rcommon block to solve bug with one the web services

PORTAL
- Added field educat 1x1 which makes possible to classify the schools that subscribe the educat project
- Upgraded the core version to 1.2.4 of Zikula
- Added advises created via blocks directy in clients' intranets
- Removed some unnecessary files in portal/pnTemp folder

ZIKULA
- Upgraded the core version to 1.2.4 of Zikula
- Some minor bugs fixed in intraweb modules


Changes in 10.09.08
---------------------------------------------------------------------------------------
GENERAL
- Revised information returned by the web service for agora migration
- Moved EOIs to agora-eoi server

MOODLE
-  New course parameters allows user:
    * to hide blocks per course overriding theme parameters
    * hide, and control the advanced navigation bar on top of the course
- Revised XTEC2 theme: changed sidebar color, linked logos in header...
- Enabled hour restrictions for reports and backups
- Deleted chat activity module to improve performance
- Added last version of rscom, rcontent i rcommon modules/block



Changes in 10.08.26
---------------------------------------------------------------------------------------
ZIKULA
- Fixed bug which blocks module regeneration
- Fixed bug in Files which blocks file uploading


Changes in 10.08.20
---------------------------------------------------------------------------------------
ADMINTOOLS
- Added field for eduCAT 1x1

GENERAL
- Renamed moodle and zikula directories
- Added web service for agora migration (file checkuser.php)

PORTAL
- Refactored config files

ZIKULA
- Refactored config files
- Improved upgrader2.php
- Fixed small bugs in modules


Changes in 10.08.05
---------------------------------------------------------------------------------------
MOODLE
- Added adminTools/changeConfig.php file to update config table from CLOB to VARCHAR2


Changes in 10.07.26
---------------------------------------------------------------------------------------
MOODLE
- Updated Moodle version from 1.9.5 to 1.9.9.
- Updated some Moodle filters and modules: advises, wiris (2.2.2), dragmath (0.7.8.2), freemind.
- Added missing pix files to xtec2 theme.

PORTAL
- Fixed problem with advises block (missing database name)

ZIKULA
- Updated Zikula from 1.1.2 to 1.2.3
- Changed charset (files & DB) from iso-8859-15 to utf-8 (core & modules)
- Changed multilanguage system to gettext (core & modules)
- Upgraded all modules
- Added migration script (upgrader.php) to convert databases
- Fixed several minor bugs


Changes in 10.06.30
---------------------------------------------------------------------------------------
MOODLE
- Added advices block. This block allows system admins to alert all agora moodles about important notices.
- In a course, by default, show only current topic for students
- Repaired the problem erasing SCORM reports reported in http://agora.xtec.cat/moodle/moodle/mod/forum/discuss.php?d=13641
- $agora['moodle']['dbnumber'] has been moved to config.php
- Added $CFG->enable_hour_restrictions = false; parameter to personal_config.php to enable/disable backup/restore restriction

PORTAL
- Fixed problem with Moodle database connection used for SQL editor and advises.

ZIKULA
- Made print logo customizable via logoprint.png in theme directory. Also hidden EZComments form when printing.
- Added support for iw_vhmenu for andreas08 theme
- Made RSS logo customizable via logorss.png in theme directory
- Refactored theme header for better customization via style2.css. Lengthened logo area.
- Added rel link for RSS news


Changes in 10.06.08
---------------------------------------------------------------------------------------
PORTAL
- Fixed problems deleting tables of the agoraPortal module.

ZIKULA
- Added logo of Departament d'Educació to theme iw_xtec and some minor changes.
- iw_files: file.php now preserves original filename
- iw_noteboard: fixed dropdown menu missing groups when editing topic


Changes in 10.06.01
---------------------------------------------------------------------------------------
MOODLE
- Wiris filter updated to version 2.1.35 (to solve problem with allow_url_fopen)

PORTAL
- Fixed problems with schools list


Changes in 10.05.20
---------------------------------------------------------------------------------------
ADMINTOOLS
- Added more information to schools list (location, type...) and revised updating of schools to save also this information. It's necessary to add some tables and fiels to the administration database.

GENERAL
- Added option to redirect to the new DNS when the user attempt to acces to a place with changed DNS (eines/userAPI.php, moodle/personal_config.php, config/zk/personal_config.php, error.php). Requires a new field in PRE_SCHOOLS table: "SCHOOL_OLD_DNS" VARCHAR2(50)

MOODLE
- Geogebra filter updated to version 3.2
- Wiris filter updated to version 2.1.33

PORTAL
- Revised schools list to add more information (location, type...)
- Fixed default user group importing users from moodle using iw_moodle



Changes in 10.05.03
---------------------------------------------------------------------------------------
MOODLE
- Take out ldap data to complete user profile
- Fixed the clickreportid hotpotatoes restore problem
- Fixed XML encoding errors on restoring
- Fixed a deprecation warning in qv
- Set sessiontimeout parameter on config to 3600s.
- Added restriction to personal_config.php file for stress-testing

PORTAL
- New tool to execute SQL in the selected centers
- New tool to change the advices block content of the moodles.

ZIKULA
- Added restriction to config.php file for stress-testing


Changes in 10.03.18
---------------------------------------------------------------------------------------
MOODLE
- Fixed Error in ratings exported glossary entries MDL-18421
- Bulk operation to capitalize user names
- Little change in the message of deleting bulk users
- Added $CFG->dbsessions=1; parameter to save sessions to database in all Moodle instances
- Fixed some problems in the analytics block

ZIKULA
- Fixed captcha in module formicula
- Fixed pnsearchapi.php for Downloads


Changes in 10.03.04
---------------------------------------------------------------------------------------
MOODLE
- Avoid to disable recaptcha on signup
- Resolves the warning about the deleting of a large number of user does not work
- Disable Backup operations in rush hours. Monday to Friday from 9:00 to 13:59 and from 15:00 to 21:59.
- Hide the next categories to the normal and admins users except xtecadmin: Reports, Server:Statistics, Server: HTTP, Network
- Preset some settings in personal-config.php
- Revised infr.moodledata_sessions.sh script and added 5 schools more to analytics

PORTAL
- Fixed gettext problem

ZIKULA
- Fixed bug involving iw_bookings (groups missing in dropdown menu)


Changes in 10.02.01
---------------------------------------------------------------------------------------
- Added Basque, Dutch, Korean, Simplified Chinese and Urdú language packs
- Updated French language pack
- Allow negative marks for multiple choice questions of a quiz with and without multiple answer
- Warning that the deleting of a large number of user does not work
- Added Freemind Filter and browser version 0.8.1
- Solved database ordering problems (mod/data/view.php)
- Solved viewing phpInfo for xtecadmin in (admin/settings/server.php)
- Added lib/agora.php to manage some agora related functions.
- Apply patch MDL-16336 to make htmleditor works in Google Chrome
- Installed admin_service block (visible only when school_type=portal)
- Fixed some recaptcha parameters in config file


Changes in 9.11.13
---------------------------------------------------------------------------------------
- Updated jclic module to 0.1.0.10 version
- Hidden Security | Antivirus admin option


Changes in 9.10.15
---------------------------------------------------------------------------------------
- Found supportemail='' but not added to config to delete agora@xtec.cat from it. It's necessary to invest more.
- Added path to solve problem with LaTeX in multiple choice (http://tracker.moodle.org/browse/MDL-12418)
- Solved problems with EOICampus warning when restoring a course
- Added Catalonia to countries list


Changes in 9.10.08
---------------------------------------------------------------------------------------
- Revised personal_config for Moodle and Intranet: solved some problems with database connection


Changes in 9.10.01
---------------------------------------------------------------------------------------
- Solved problems with contacts list in private messages window


Changes in 9.09.15
---------------------------------------------------------------------------------------
- Solved problems with question backup
- Solved problems with hotspot restore
- Solved problem with course and categories list display (TXTEC theme)


Changes in 9.09.08
---------------------------------------------------------------------------------------
- Revised EOICampus module (to add mod_form.php file because mod.html fails)
- Revised XTEC theme to add always all default css files
- Added release information on statistics tool (to know which is the Moodle version of each school)


Changes in 9.09.03
---------------------------------------------------------------------------------------
- Added EOICampus module (only for schools with pre_schools.school_type=EOI)
- Created actualitza.php file to update all intranet schools


Changes in 9.09.01
---------------------------------------------------------------------------------------
- Solved some problems with upgrade to 1.9.5
- Hidden link in the main page
- Revised creation of xtecadmin user to solve problems with mnethostid
- Revised iw_moodle to solve users syncronization


Changes in 9.08.27
---------------------------------------------------------------------------------------
- Solved problems with HTML editor


Changes in 9.07.24
---------------------------------------------------------------------------------------
- Updated Moodle from 1.8.9 to 1.9.5
- Updated Wiris filter to 2.1.27
- Updated DragMath filter to 0.7.8.1
- Updated questionnaire module to put 1.9 version (2008060403)
- Revised server parameters to make easier the installation in Odissea (for instance, added CFG->isagora parameter)


Changes in 9.06.19
---------------------------------------------------------------------------------------
- Updated Moodle from 1.8.7 to 1.8.9
- Revised works.php to check also the connection to all the databases (not only the first one)
- Hidden Secutity | HTTP Security option because HTTPS login fails
- Solved problems with questionnaire module (groups, some activities...)
- Solved problem with iw_moodle intranet module reinstallation


Changes in 9.06.08
---------------------------------------------------------------------------------------
- Solved tex filter problem
- Added error page (if it's not possible to connect with the moodle_administration database)


Changes in 9.04.30
---------------------------------------------------------------------------------------
- Geogebra filter installation


Changes in 9.04.03
---------------------------------------------------------------------------------------
- Debugging server option to enable only for xtecadmin user
- Updated qv (2.0.5) and jclic (0.1.0.9) module version
- Updated filter/tex to solve a security problem (downloaded the latest weekly version)
- Installed questionnaire module


Changes in 9.03.19
---------------------------------------------------------------------------------------
- Revised SMTP server settings to mask password
- Solved problems with the specials characters in the name inside zip files
- Hidden global search block (because it's a experimental service)
- Solved problems with users form city length
- Revised initial database number (migration of moodle and moodle2 to smaller databases (only 200 schemas))


Changes in 9.02.03
---------------------------------------------------------------------------------------
- Updated Moodle from 1.8.6 to 1.8.7
- Added greek language pack


Changes in 9.01.20
---------------------------------------------------------------------------------------
- Solved SMTP configuration problems (ssl protocol was always added)


Changes in 9.01.07
---------------------------------------------------------------------------------------
- Revised SMTP configuration (added line to class.smtp.php file to add ssl for google server)
- Updated WIRIS plugin to 2.1.24
- Revised the permissions of DragMath filter


Changes in 8.12.01
---------------------------------------------------------------------------------------
- Solved problems with cookies for schools in database 2
- Added debugagora parameter to show the error messages when it's specified
- Revised SMTP server config to let specify the port (smtp.google.com:465 for instance)


Changes in 8.11.05
---------------------------------------------------------------------------------------
- Solved problems with HTML Editor (with german language)
- Revised the way to get the school information and changed to get it from schools table. Changed also the information stored in the cookie.


Changes in 8.10.20
---------------------------------------------------------------------------------------
- Added hidden field to solve problem with login url redirections
- Revised eines to create schools with id_schools > 400 (second database)


Changes in 8.10.16
---------------------------------------------------------------------------------------
- Added some language packages to Moodle (japanese, german, russian, portuguese, italian, arabic)
- Separated config files of eines and Moodle (created personal_config.php)
- Solved problem with login url redirections
- Revised config file for Moodle to let have more than one database


Changes in 8.09.23
---------------------------------------------------------------------------------------
- First version of the intranet (with the final database)
- Created a new contract for non-public schools
- Revised Moodle xtec-theme to adapt the Agora XTEC skin.


Changes in 8.09.04
---------------------------------------------------------------------------------------
- Updated Moodle version to 1.8.6 to solve security problems
- Revised the backup of courses and solved problems with quiz activities
- Added error.php file to show if the URL isn't correct
- Changed the FAX from 932002921 to 932415341


Changes in 8.07.16
---------------------------------------------------------------------------------------
- Solved problems detected with .inc file generation (dns name wasn't been included inside the file)
- Revised admin list tool (to let one school to have more than one service). Revised getSchoolsInformation and getAllSchools functions
- Revised createSchoolsList.php to use config parameters and get only the moodle and activated schools



Changes in 8.07.09
---------------------------------------------------------------------------------------
- Database and administration application revised and adapted to let the creation of intranet also.
- Revised and solved some bugs (cookie generation, error page...)

- Replace the following lines in moodle185/config.php file
			From
				setcookie('xtecSchool',$data[0].'--'.$data[1]);
			to
				setcookie('xtecSchool',$data[0].'--'.$data[1],0,'/');

	Twice more o less lines 23 and 36
			From
				header('location: ../../error.htm');
			to
				header('location: '.MOODLE_WWWROOT.'error.htm');
	Once more o less in line 12

- Execute SQL to delete index school_name unique and create index code and actived_service unique
			file: agora_schools_service_2080707.sql

- Modify the file eines/config.php. The follow rows have to be added at the end of the file:

	//schools intranet database access
	$agora['intranet']['username'] = "agora";
	$agora['intranet']['userpwd'] = "agora";
	$agora['intranet']['host'] =  "localhost:3306";

	//current versions for interprices
	$agora['moodle']['current_version'] = "185";
	$agora['intranet']['current_version'] = "10";

	with the correct parameters for mysql connection in public servers

Changes in 8.05.19
---------------------------------------------------------------------------------------
- Created administration tool to move uploaded files
- Revised lang packages of moodle (ca, es and fr)


Changes in 8.05.08
---------------------------------------------------------------------------------------
- Added the lines
		$agora['server']['root'] = "/dades/eduphp/agora-moodle/";
		$agora['server']['cgi_folder']="http://php-int.educacio.intranet/agora-cgi/";
		$agora['server']['html']="http://php-int.educacio.intranet/agora-moodle/";
		$agora['config']['need_validation']="true";
		$agora['config']['valid_initials']=array("ies", "ceip", "afa", "cfa", "ses", "eoi");
	in file config.php
- Modified $agora['smtp']['user'] = 'blocs'; to $agora['smtp']['user'] = 'agora';
- Added ses and eoi schools also
- Solved problem with the lenght of the city (at the signup).
- Added upload service (for files bigger than 10MB)


Changes in 8.04.28 (2008/04/29)
---------------------------------------------------------------------------------------
- Changed Moodle version from 1.8.4 to 1.8.5
- Added button to add/delete xtecadmin user in Moodle
- Revised contracte.php (to solve some bugs detected and to add specific text for SE)
- Added school code to the list admin page


Changes in 8.04.23 (2008/04/23)
---------------------------------------------------------------------------------------
- Added adminTools/activacio/updateMoodleAdmin.php file to make xtec_admin administrador
- Revised acces/contracte.php (only accept id=se parameter and shows an empty contract)
